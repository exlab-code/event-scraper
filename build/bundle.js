var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function l(e){e.forEach(n)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function s(e,t,n){e.$$.on_destroy.push(i(t,n))}function c(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}const u="undefined"!=typeof window;let d=u?()=>window.performance.now():()=>Date.now(),g=u?e=>requestAnimationFrame(e):e;const f=new Set;function p(e){f.forEach((t=>{t.c(e)||(f.delete(t),t.f())})),0!==f.size&&g(p)}function m(e,t){e.appendChild(t)}function h(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function w(e){const t=b("style");return function(e,t){m(e.head||e,t),t.sheet}(h(e),t),t.sheet}function x(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function _(){return k(" ")}function D(){return k("")}function S(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e){return function(t){return t.preventDefault(),e.call(this,t)}}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e,t){t=""+t,e.data!==t&&(e.data=t)}function F(e,t){e.value=null==t?"":t}function z(e,t,n){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function j(e){const t=e.querySelector(":checked");return t&&t.__value}function A(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,r,t),l}const B=new Map;let L,O=0;function T(e,t,n,r,l,o,a,i=0){const s=16.666/r;let c="{\n";for(let e=0;e<=1;e+=s){const r=t+(n-t)*o(e);c+=100*e+`%{${a(r,1-r)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${i}`,g=h(e),{stylesheet:f,rules:p}=B.get(g)||function(e,t){const n={stylesheet:w(t),rules:{}};return B.set(e,n),n}(g,e);p[d]||(p[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${r}ms linear ${l}ms 1 both`,O+=1,d}function V(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),l=n.length-r.length;l&&(e.style.animation=r.join(", "),O-=l,O||g((()=>{O||(B.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&y(t)})),B.clear())})))}function N(e){L=e}function H(){if(!L)throw new Error("Function called outside component initialization");return L}function R(e){H().$$.on_mount.push(e)}const P=[],I=[];let K=[];const W=[],U=Promise.resolve();let Y=!1;function J(e){K.push(e)}const Z=new Set;let q,G=0;function Q(){if(0!==G)return;const e=L;do{try{for(;G<P.length;){const e=P[G];G++,N(e),X(e.$$)}}catch(e){throw P.length=0,G=0,e}for(N(null),P.length=0,G=0;I.length;)I.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];Z.has(t)||(Z.add(t),t())}K.length=0}while(P.length);for(;W.length;)W.pop()();Y=!1,Z.clear(),N(e)}function X(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}function ee(e,t,n){e.dispatchEvent(A(`${t?"intro":"outro"}${n}`))}const te=new Set;let ne;function re(){ne={r:0,c:[],p:ne}}function le(){ne.r||l(ne.c),ne=ne.p}function oe(e,t){e&&e.i&&(te.delete(e),e.i(t))}function ae(e,t,n,r){if(e&&e.o){if(te.has(e))return;te.add(e),ne.c.push((()=>{te.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const ie={duration:0};function se(n,r,a,i){const s={direction:"both"};let c=r(n,a,s),u=i?0:1,m=null,h=null,w=null;function x(){w&&V(n,w)}function y(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(r){const{delay:o=0,duration:a=300,easing:i=t,tick:s=e,css:v}=c||ie,b={start:d()+o,b:r};r||(b.group=ne,ne.r+=1),m||h?h=b:(v&&(x(),w=T(n,u,r,a,o,i,v)),r&&s(0,1),m=y(b,a),J((()=>ee(n,r,"start"))),function(e){let t;0===f.size&&g(p),new Promise((n=>{f.add(t={c:e,f:n})}))}((e=>{if(h&&e>h.start&&(m=y(h,a),h=null,ee(n,m.b,"start"),v&&(x(),w=T(n,u,m.b,m.duration,0,i,c.css))),m)if(e>=m.end)s(u=m.b,1-u),ee(n,m.b,"end"),h||(m.b?x():--m.group.r||l(m.group.c)),m=null;else if(e>=m.start){const t=e-m.start;u=m.a+m.d*i(t/m.duration),s(u,1-u)}return!(!m&&!h)})))}return{run(e){o(c)?(q||(q=Promise.resolve(),q.then((()=>{q=null}))),q).then((()=>{c=c(s),v(e)})):v(e)},end(){x(),m=h=null}}}function ce(e,t){ae(e,1,1,(()=>{t.delete(e.key)}))}function ue(e,t,n,r,o,a,i,s,c,u,d,g){let f=e.length,p=a.length,m=f;const h={};for(;m--;)h[e[m].key]=m;const w=[],x=new Map,y=new Map,v=[];for(m=p;m--;){const e=g(o,a,m),l=n(e);let s=i.get(l);s?r&&v.push((()=>s.p(e,t))):(s=u(l,e),s.c()),x.set(l,w[m]=s),l in h&&y.set(l,Math.abs(m-h[l]))}const b=new Set,$=new Set;function k(e){oe(e,1),e.m(s,d),i.set(e.key,e),d=e.first,p--}for(;f&&p;){const t=w[p-1],n=e[f-1],r=t.key,l=n.key;t===n?(d=t.first,f--,p--):x.has(l)?!i.has(r)||b.has(r)?k(t):$.has(l)?f--:y.get(r)>y.get(l)?($.add(r),k(t)):(b.add(l),f--):(c(n,i),f--)}for(;f--;){const t=e[f];x.has(t.key)||c(t,i)}for(;p;)k(w[p-1]);return l(v),w}function de(e){e&&e.c()}function ge(e,t,r,a){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,r),a||J((()=>{const t=e.$$.on_mount.map(n).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...t):l(t),e.$$.on_mount=[]})),s.forEach(J)}function fe(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];K.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),K=t}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function pe(e,t){-1===e.$$.dirty[0]&&(P.push(e),Y||(Y=!0,U.then(Q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function me(t,n,o,a,i,s,c,u=[-1]){const d=L;N(t);const g=t.$$={fragment:null,ctx:[],props:s,update:e,not_equal:i,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(g.root);let f=!1;if(g.ctx=o?o(t,n.props||{},((e,n,...r)=>{const l=r.length?r[0]:n;return g.ctx&&i(g.ctx[e],g.ctx[e]=l)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](l),f&&pe(t,e)),n})):[],g.update(),f=!0,l(g.before_update),g.fragment=!!a&&a(g.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);g.fragment&&g.fragment.l(e),e.forEach(y)}else g.fragment&&g.fragment.c();n.intro&&oe(t.$$.fragment),ge(t,n.target,n.anchor,n.customElement),Q()}N(d)}class he{$destroy(){fe(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function we(t){let n,r,o,a,i,s,c,u,d,g,f,p,h,w,v,$,D,C,F,z,j,A;return{c(){n=b("header"),r=b("div"),o=b("div"),a=b("a"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="text-primary-600" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> \n        <span>DigiKal</span>',i=_(),s=b("nav"),c=b("ul"),u=b("li"),d=b("a"),g=k("Veranstaltungen"),p=_(),h=b("li"),w=b("a"),v=k("FÃ¶rderprogramme"),C=_(),F=b("button"),F.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',M(a,"href","/"),M(a,"class","flex items-center gap-3 text-gray-800 font-semibold text-xl"),M(o,"class","flex items-center"),M(d,"href","/"),M(d,"class",f="block md:inline-block px-2 py-2 md:py-1 text-gray-700 font-medium hover:text-primary-600 relative "+("home"===t[1]?"text-primary-600":"")+" after:absolute after:bottom-0 after:left-0 after:h-0.5 after:bg-primary-600 after:w-full "+("home"===t[1]?"after:block":"after:hidden")),M(w,"href","/foerderprogramme"),M(w,"class",$="block md:inline-block px-2 py-2 md:py-1 text-gray-700 font-medium hover:text-primary-600 relative "+("foerderprogramme"===t[1]?"text-primary-600":"")+" after:absolute after:bottom-0 after:left-0 after:h-0.5 after:bg-primary-600 after:w-full "+("foerderprogramme"===t[1]?"after:block":"after:hidden")),M(c,"class","flex flex-col md:flex-row gap-4 md:gap-6"),M(s,"class",D=(t[3]?"translate-y-0 opacity-100 visible":"-translate-y-full opacity-0 invisible md:opacity-100 md:visible md:translate-y-0")+" fixed md:relative top-16 md:top-0 left-0 right-0 md:left-auto md:right-auto bg-white md:bg-transparent shadow-md md:shadow-none p-4 md:p-0 transition-all duration-300 md:transition-none"),M(F,"class","md:hidden p-2 text-gray-700 hover:text-primary-600"),M(F,"aria-label","Toggle menu"),M(r,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between"),M(n,"class",z=(t[2]?"shadow-md":"")+" sticky top-0 z-50 bg-white py-3 transition-shadow duration-300")},m(e,l){x(e,n,l),m(n,r),m(r,o),m(o,a),m(r,i),m(r,s),m(s,c),m(c,u),m(u,d),m(d,g),m(c,p),m(c,h),m(h,w),m(w,v),m(r,C),m(r,F),j||(A=[S(a,"click",E(t[5])),S(d,"click",E(t[6])),S(w,"click",E(t[7])),S(F,"click",t[4])],j=!0)},p(e,[t]){2&t&&f!==(f="block md:inline-block px-2 py-2 md:py-1 text-gray-700 font-medium hover:text-primary-600 relative "+("home"===e[1]?"text-primary-600":"")+" after:absolute after:bottom-0 after:left-0 after:h-0.5 after:bg-primary-600 after:w-full "+("home"===e[1]?"after:block":"after:hidden"))&&M(d,"class",f),2&t&&$!==($="block md:inline-block px-2 py-2 md:py-1 text-gray-700 font-medium hover:text-primary-600 relative "+("foerderprogramme"===e[1]?"text-primary-600":"")+" after:absolute after:bottom-0 after:left-0 after:h-0.5 after:bg-primary-600 after:w-full "+("foerderprogramme"===e[1]?"after:block":"after:hidden"))&&M(w,"class",$),8&t&&D!==(D=(e[3]?"translate-y-0 opacity-100 visible":"-translate-y-full opacity-0 invisible md:opacity-100 md:visible md:translate-y-0")+" fixed md:relative top-16 md:top-0 left-0 right-0 md:left-auto md:right-auto bg-white md:bg-transparent shadow-md md:shadow-none p-4 md:p-0 transition-all duration-300 md:transition-none")&&M(s,"class",D),4&t&&z!==(z=(e[2]?"shadow-md":"")+" sticky top-0 z-50 bg-white py-3 transition-shadow duration-300")&&M(n,"class",z)},i:e,o:e,d(e){e&&y(n),j=!1,l(A)}}}function xe(e,t,n){let{navigateTo:r}=t,{currentRoute:l}=t,o=!1,a=!1;R((()=>{const e=()=>{n(2,o=window.scrollY>10)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}));return e.$$set=e=>{"navigateTo"in e&&n(0,r=e.navigateTo),"currentRoute"in e&&n(1,l=e.currentRoute)},[r,l,o,a,function(){n(3,a=!a)},e=>r("/",e),e=>{r("/",e),n(3,a=!1)},e=>{r("/foerderprogramme",e),n(3,a=!1)}]}class ye extends he{constructor(e){super(),me(this,e,xe,we,a,{navigateTo:0,currentRoute:1})}}const ve=[];function be(t,n=e){let r;const l=new Set;function o(e){if(a(t,e)&&(t=e,r)){const e=!ve.length;for(const e of l)e[1](),ve.push(e,t);if(e){for(let e=0;e<ve.length;e+=2)ve[e][0](ve[e+1]);ve.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,i=e){const s=[a,i];return l.add(s),1===l.size&&(r=n(o)||e),a(t),()=>{l.delete(s),0===l.size&&r&&(r(),r=null)}}}}function $e(t,n,r){const a=!Array.isArray(t),s=a?[t]:t,c=n.length<2;return u=t=>{let r=!1;const u=[];let d=0,g=e;const f=()=>{if(d)return;g();const r=n(a?u[0]:u,t);c?t(r):g=o(r)?r:e},p=s.map(((e,t)=>i(e,(e=>{u[t]=e,d&=~(1<<t),r&&f()}),(()=>{d|=1<<t}))));return r=!0,f(),function(){l(p),g(),r=!1}},{subscribe:be(r,u).subscribe};var u}const ke="APpU898yct7V2VyMFfcJse_7WXktDY-o",_e="https://calapi.buerofalk.de/items";const De=be([]),Se=be([]),Ee=be([]),Me=be({nextcloud:"",ical:""}),Ce=be({category:"",tags:[],onlineOnly:!1,timeHorizon:"all"}),Fe=be(!1),ze=be(null);const je=$e([De,Ce],(([e,t])=>(console.log("[EventStore] Filtering",e.length,"events with filters:",t),e.filter((e=>{if(!e.start_date)return!1;const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),l=new Date(e.start_date),o=new Date(l.getFullYear(),l.getMonth(),l.getDate());if(console.log("[EventStore] Checking event:",e.title,"Date:",e.start_date,"Event day:",o,"Today:",r,"Past?",o<r),o<r)return!1;if(t.tags&&t.tags.length>0){if(!e.tags||!Array.isArray(e.tags))return!1;const n=e.tags.map((e=>e.toLowerCase()));for(const e of t.tags){const t=e.toLowerCase();if(!n.includes(t))return!1}}if(t.onlineOnly){const t=e.tags&&Array.isArray(e.tags)&&e.tags.some((e=>"Online"===e)),n=!e.location||e.location.toLowerCase().includes("online")||e.location.toLowerCase().includes("virtuell")||e.location.toLowerCase().includes("webinar")||e.location.toLowerCase().includes("zoom")||e.location.toLowerCase().includes("teams");if(!t&&!n)return!1}if(t.timeHorizon&&"all"!==t.timeHorizon)try{const n=function(e){const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(e){case"today":return{start:n,end:new Date(n.getTime()+864e5)};case"thisWeek":{const e=n.getDay(),t=new Date(n),r=0===e?6:e-1;t.setDate(n.getDate()-r);const l=new Date(t);return l.setDate(t.getDate()+6),{start:t,end:l}}case"nextWeek":{const e=n.getDay(),t=new Date(n),r=0===e?1:8-e;t.setDate(n.getDate()+r);const l=new Date(t);return l.setDate(t.getDate()+6),{start:t,end:l}}case"thisMonth":return{start:new Date(n.getFullYear(),n.getMonth(),1),end:new Date(n.getFullYear(),n.getMonth()+1,0)};case"nextMonth":return{start:new Date(n.getFullYear(),n.getMonth()+1,1),end:new Date(n.getFullYear(),n.getMonth()+2,0)};case"next3Months":{const e=new Date(n);return e.setMonth(n.getMonth()+3),{start:n,end:e}}case"upcoming":{const e=new Date(n);return e.setDate(n.getDate()+7),{start:n,end:e}}default:return{start:null,end:null}}}(t.timeHorizon);if(n.start||n.end){const t=new Date(e.start_date);if(n.start&&t<n.start)return!1;if(n.end&&t>n.end)return!1}}catch(t){console.error("Fehler beim Filtern nach Zeitraum:",t,e.start_date)}return!0})))));async function Ae(){Fe.set(!0),ze.set(null);try{const e={};Ce.subscribe((t=>{t.category&&(e.category=t.category)}))(),console.log("[EventStore] Loading events with filters:",e);const t=await async function(e={}){try{let t={approved:{_eq:!0}};e.category&&(t.category={_eq:e.category});const n=new URLSearchParams({filter:JSON.stringify(t),sort:"start_date",limit:"-1"}),r=`${_e}/events?${n}`,l=await fetch(r,{headers:{Authorization:`Bearer ${ke}`}});if(!l.ok)throw new Error(`API error: ${l.status}`);const o=await l.json();return e.tag&&""!==e.tag.trim()?o.data.filter((t=>t.tags&&Array.isArray(t.tags)&&t.tags.includes(e.tag))):o.data}catch(e){throw console.error("Error fetching events:",e),e}}(e);console.log("[EventStore] Loaded",t.length,"events from API"),console.log("[EventStore] First 3 events:",t.slice(0,3).map((e=>({title:e.title,start_date:e.start_date,approved:e.approved})))),De.set(t)}catch(e){console.error("Fehler beim Laden der Veranstaltungen:",e),ze.set("Fehler beim Laden der Veranstaltungen. Bitte versuchen Sie es spÃ¤ter erneut.")}finally{Fe.set(!1)}}async function Be(){try{const e=await async function(){try{const e=new URLSearchParams({filter:JSON.stringify({approved:{_eq:!0}}),sort:"start_date",limit:"-1"}),t=`${_e}/events?${e}`,n=await fetch(t,{headers:{Authorization:`Bearer ${ke}`}});if(!n.ok)throw new Error(`API error: ${n.status}`);const r=(await n.json()).data;return[...new Set(r.map((e=>e.category)).filter(Boolean))].sort()}catch(e){throw console.error("Error fetching categories:",e),e}}();Se.set(e)}catch(e){console.error("Fehler beim Laden der Kategorien:",e)}}async function Le(){try{const e=await async function(){try{const e=new URLSearchParams({filter:JSON.stringify({approved:{_eq:!0}}),sort:"start_date",limit:"-1"}),t=`${_e}/events?${e}`,n=await fetch(t,{headers:{Authorization:`Bearer ${ke}`}});if(!n.ok)throw new Error(`API error: ${n.status}`);const r=(await n.json()).data.map((e=>e.tags||[])).flat();return[...new Set(r)].sort()}catch(e){throw console.error("Error fetching tags:",e),e}}();Ee.set(e)}catch(e){console.error("Fehler beim Laden der Tags:",e)}}async function Oe(){try{const e=await async function(){return{nextcloud:"https://cloud.buerofalk.de/remote.php/dav/public-calendars/AnaLz2YHKjM6EF7k?export",ical:"/calendar.ics"}}();Me.set(e)}catch(e){console.error("Fehler beim Laden der Kalender-URLs:",e)}}$e(De,(e=>{const t={};for(const n of e)if(n.tags&&Array.isArray(n.tags))for(const e of n.tags)t[e]=(t[e]||0)+1;return Object.entries(t).sort(((e,t)=>t[1]-e[1])).slice(0,9).map((([e])=>e))}));const Te={datenschutz_sicherheit:"Datenschutz & Sicherheit",ki_nonprofit:"KI fÃ¼r Non-Profits",digitale_kommunikation:"Digitale Kommunikation & Social Media",foerderung_finanzierung:"FÃ¶rderprogramme & Finanzierung",ehrenamt_engagement:"Ehrenamt & Engagemententwicklung",daten_projektmanagement:"Daten & Projektmanagement",weiterbildung_qualifizierung:"Weiterbildung & Qualifizierung",digitale_transformation:"Digitale Transformation & Strategie",tools_anwendungen:"Tools & Anwendungen"};function Ve(e){return e?Te[e]||e:""}function Ne(e){let t,n,r;return{c(){t=b("span"),n=k("Â "),r=k(e[1]),M(t,"class","tag-count ml-2 opacity-70")},m(e,l){x(e,t,l),m(t,n),m(t,r)},p(e,t){2&t&&C(r,e[1])},d(e){e&&y(t)}}}function He(t){let n,r,l,a,i,s=null!==t[1]&&t[1]>1&&Ne(t);return{c(){n=b("button"),r=k(t[0]),l=_(),s&&s.c(),M(n,"class",t[3]),M(n,"type","button")},m(e,c){x(e,n,c),m(n,r),m(n,l),s&&s.m(n,null),a||(i=S(n,"click",(function(){o(t[2])&&t[2].apply(this,arguments)})),a=!0)},p(e,[l]){t=e,1&l&&C(r,t[0]),null!==t[1]&&t[1]>1?s?s.p(t,l):(s=Ne(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),8&l&&M(n,"class",t[3])},i:e,o:e,d(e){e&&y(n),s&&s.d(),a=!1,i()}}}function Re(e,t,n){let r,{tag:l}=t,{groupId:o=null}=t,{selectable:a=!1}=t,{selected:i=!1}=t,{count:s=null}=t,{onClick:c=()=>{}}=t;return e.$$set=e=>{"tag"in e&&n(0,l=e.tag),"groupId"in e&&n(4,o=e.groupId),"selectable"in e&&n(5,a=e.selectable),"selected"in e&&n(6,i=e.selected),"count"in e&&n(1,s=e.count),"onClick"in e&&n(2,c=e.onClick)},e.$$.update=()=>{112&e.$$.dirty&&n(3,r=["tag",o?`tag-${o}`:"",a?"selectable":"",i?"selected":""].filter(Boolean).join(" "))},[l,s,c,r,o,a,i]}class Pe extends he{constructor(e){super(),me(this,e,Re,He,a,{tag:0,groupId:4,selectable:5,selected:6,count:1,onClick:2})}}const Ie=[];let Ke=!1;function We(e,t={}){!function(e,t){Ke&&"undefined"!=typeof umami?umami.track(e,t):Ie.push({eventName:e,props:t})}(e,t)}function Ue(e,t={}){Ke&&"undefined"!=typeof umami?umami.trackView(e,t):Ie.push({eventName:"page_view",props:{url:e,...t}})}function Ye(e,t,n){const r=e.slice();return r[3]=t[n],r}function Je(e){let t,n,r,l,o=Math.ceil((new Date(e[0].end_date)-new Date(e[0].start_date))/864e5)+"";return{c(){t=b("div"),n=k("+ "),r=k(o),l=k(" Tage"),M(t,"class","text-xs mt-1 py-1 bg-white/20 rounded-full")},m(e,o){x(e,t,o),m(t,n),m(t,r),m(t,l)},p(e,t){1&t&&o!==(o=Math.ceil((new Date(e[0].end_date)-new Date(e[0].start_date))/864e5)+"")&&C(r,o)},d(e){e&&y(t)}}}function Ze(e){let t,n;function r(e,t){return e[0].end_date?Ge:e[0].end_time?qe:void 0}let l=r(e),o=l&&l(e);return{c(){t=k("- \n              "),o&&o.c(),n=D()},m(e,r){x(e,t,r),o&&o.m(e,r),x(e,n,r)},p(e,t){l===(l=r(e))&&o?o.p(e,t):(o&&o.d(1),o=l&&l(e),o&&(o.c(),o.m(n.parentNode,n)))},d(e){e&&y(t),o&&o.d(e),e&&y(n)}}}function qe(e){let t,n=e[0].end_time+"";return{c(){t=k(n)},m(e,n){x(e,t,n)},p(e,r){1&r&&n!==(n=e[0].end_time+"")&&C(t,n)},d(e){e&&y(t)}}}function Ge(e){let t,n=new Date(e[0].end_date).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})+"";return{c(){t=k(n)},m(e,n){x(e,t,n)},p(e,r){1&r&&n!==(n=new Date(e[0].end_date).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})+"")&&C(t,n)},d(e){e&&y(t)}}}function Qe(t){let n,r,l,o,a,i;return{c(){n=$("svg"),r=$("rect"),l=$("line"),o=$("line"),a=_(),i=b("span"),i.textContent="Online Event",M(r,"x","2"),M(r,"y","3"),M(r,"width","20"),M(r,"height","14"),M(r,"rx","2"),M(r,"ry","2"),M(l,"x1","8"),M(l,"y1","21"),M(l,"x2","16"),M(l,"y2","21"),M(o,"x1","12"),M(o,"y1","17"),M(o,"x2","12"),M(o,"y2","21"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","h-4 w-4 text-primary-500"),M(n,"viewBox","0 0 24 24"),M(n,"fill","none"),M(n,"stroke","currentColor"),M(n,"stroke-width","2"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(i,"class","text-primary-600 font-medium")},m(e,t){x(e,n,t),m(n,r),m(n,l),m(n,o),x(e,a,t),x(e,i,t)},p:e,d(e){e&&y(n),e&&y(a),e&&y(i)}}}function Xe(e){let t,n,r,l,o,a,i=e[0].location+"";return{c(){t=$("svg"),n=$("path"),r=$("circle"),l=_(),o=b("span"),a=k(i),M(n,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),M(r,"cx","12"),M(r,"cy","10"),M(r,"r","3"),M(t,"xmlns","http://www.w3.org/2000/svg"),M(t,"class","h-4 w-4 text-primary-500"),M(t,"viewBox","0 0 24 24"),M(t,"fill","none"),M(t,"stroke","currentColor"),M(t,"stroke-width","2"),M(t,"stroke-linecap","round"),M(t,"stroke-linejoin","round")},m(e,i){x(e,t,i),m(t,n),m(t,r),x(e,l,i),x(e,o,i),m(o,a)},p(e,t){1&t&&i!==(i=e[0].location+"")&&C(a,i)},d(e){e&&y(t),e&&y(l),e&&y(o)}}}function et(e){let t,n;function r(e,t){return 0===e[0].cost||"0"===e[0].cost||"kostenlos"===e[0].cost||"Kostenlos"===e[0].cost||"free"===e[0].cost||"Free"===e[0].cost?nt:tt}let l=r(e),o=l(e);return{c(){t=b("div"),n=b("span"),o.c(),M(t,"class","flex items-center gap-2")},m(e,r){x(e,t,r),m(t,n),o.m(n,null)},p(e,t){l===(l=r(e))&&o?o.p(e,t):(o.d(1),o=l(e),o&&(o.c(),o.m(n,null)))},d(e){e&&y(t),o.d()}}}function tt(e){let t,n=("number"==typeof e[0].cost?`${e[0].cost} â¬`:e[0].cost)+"";return{c(){t=k(n)},m(e,n){x(e,t,n)},p(e,r){1&r&&n!==(n=("number"==typeof e[0].cost?`${e[0].cost} â¬`:e[0].cost)+"")&&C(t,n)},d(e){e&&y(t)}}}function nt(t){let n;return{c(){n=k("Kostenlos")},m(e,t){x(e,n,t)},p:e,d(e){e&&y(n)}}}function rt(e){let t,n,r=ft(e[0].description)+"";return{c(){t=b("p"),n=k(r),M(t,"class","text-sm text-gray-700 mb-3 line-clamp-2")},m(e,r){x(e,t,r),m(t,n)},p(e,t){1&t&&r!==(r=ft(e[0].description)+"")&&C(n,r)},d(e){e&&y(t)}}}function lt(e){let t,n,r,l=e[0].tags.slice(0,5),o=[];for(let t=0;t<l.length;t+=1)o[t]=ot(Ye(e,l,t));const a=e=>ae(o[e],1,1,(()=>{o[e]=null}));let i=e[0].tags.length>5&&at(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=_(),i&&i.c(),n=D()},m(e,l){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,l);x(e,t,l),i&&i.m(e,l),x(e,n,l),r=!0},p(e,r){if(3&r){let n;for(l=e[0].tags.slice(0,5),n=0;n<l.length;n+=1){const a=Ye(e,l,n);o[n]?(o[n].p(a,r),oe(o[n],1)):(o[n]=ot(a),o[n].c(),oe(o[n],1),o[n].m(t.parentNode,t))}for(re(),n=l.length;n<o.length;n+=1)a(n);le()}e[0].tags.length>5?i?i.p(e,r):(i=at(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i(e){if(!r){for(let e=0;e<l.length;e+=1)oe(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ae(o[e]);r=!1},d(e){v(o,e),e&&y(t),i&&i.d(e),e&&y(n)}}}function ot(e){let t,n;return t=new Pe({props:{tag:e[3],groupId:e[1](e[3])}}),{c(){de(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.tag=e[3]),1&n&&(r.groupId=e[1](e[3])),t.$set(r)},i(e){n||(oe(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function at(e){let t,n,r,l,o=e[0].tags.length-5+"";return{c(){t=b("span"),n=k("+"),r=k(o),l=k(" more"),M(t,"class","px-2 py-1 bg-gray-100 text-gray-500 text-xs rounded-full")},m(e,o){x(e,t,o),m(t,n),m(t,r),m(t,l)},p(e,t){1&t&&o!==(o=e[0].tags.length-5+"")&&C(r,o)},d(e){e&&y(t)}}}function it(e){let t,n;return t=new Pe({props:{tag:Ve(e[0].category),groupId:"topic"}}),{c(){de(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.tag=Ve(e[0].category)),t.$set(r)},i(e){n||(oe(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function st(e){let t;function n(e,t){return e[0].website?ut:e[0].register_link?ct:void 0}let r=n(e),l=r&&r(e);return{c(){t=b("div"),l&&l.c()},m(e,n){x(e,t,n),l&&l.m(t,null)},p(e,o){r===(r=n(e))&&l?l.p(e,o):(l&&l.d(1),l=r&&r(e),l&&(l.c(),l.m(t,null)))},d(e){e&&y(t),l&&l.d()}}}function ct(e){let t,n,r,l,o,a,i,s;return{c(){t=b("a"),n=$("svg"),r=$("path"),l=$("circle"),o=$("line"),a=$("line"),i=k("\n              Anmeldung"),M(r,"d","M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"),M(l,"cx","8.5"),M(l,"cy","7"),M(l,"r","4"),M(o,"x1","20"),M(o,"y1","8"),M(o,"x2","20"),M(o,"y2","14"),M(a,"x1","23"),M(a,"y1","11"),M(a,"x2","17"),M(a,"y2","11"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","h-4 w-4"),M(n,"viewBox","0 0 24 24"),M(n,"fill","none"),M(n,"stroke","currentColor"),M(n,"stroke-width","2"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(t,"href",s=e[0].register_link),M(t,"target","_blank"),M(t,"rel","noopener noreferrer"),M(t,"class","w-full py-1 transition-colors hover:bg-gray-50 text-primary-600 flex items-center gap-2")},m(e,s){x(e,t,s),m(t,n),m(n,r),m(n,l),m(n,o),m(n,a),m(t,i)},p(e,n){1&n&&s!==(s=e[0].register_link)&&M(t,"href",s)},d(e){e&&y(t)}}}function ut(e){let t,n,r,l,o,a,i;return{c(){t=b("a"),n=$("svg"),r=$("circle"),l=$("line"),o=$("path"),a=k("\n              Website"),M(r,"cx","12"),M(r,"cy","12"),M(r,"r","10"),M(l,"x1","2"),M(l,"y1","12"),M(l,"x2","22"),M(l,"y2","12"),M(o,"d","M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","h-4 w-4"),M(n,"viewBox","0 0 24 24"),M(n,"fill","none"),M(n,"stroke","currentColor"),M(n,"stroke-width","2"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(t,"href",i=e[0].website),M(t,"target","_blank"),M(t,"rel","noopener noreferrer"),M(t,"class","w-full py-1 transition-colors hover:bg-gray-50 text-primary-600 flex items-center gap-2")},m(e,i){x(e,t,i),m(t,n),m(n,r),m(n,l),m(n,o),m(t,a)},p(e,n){1&n&&i!==(i=e[0].website)&&M(t,"href",i)},d(e){e&&y(t)}}}function dt(e){let t,n,r,l,o,a,i,s,c,u,d,g,f,p,h,w,v,D,E,F,z,j,A,B,L,O,T,V,N,H,R,P,I,K,W,U,Y,J,Z,q,G,Q,X,ee,te,ne=gt(e[0].start_date).split(".")[0]+"",ie=new Date(e[0].start_date).toLocaleString("de-DE",{month:"short"})+"",se=e[0].end_date&&new Date(e[0].start_date).toDateString()!==new Date(e[0].end_date).toDateString(),ce=e[0].title+"",ue=new Date(e[0].start_date).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})+"",de=(e[0].organizer||"Unknown organizer")+"",ge=se&&Je(e),fe=(e[0].end_date||e[0].end_time)&&Ze(e);function pe(e,t){return e[0].location?Xe:Qe}let me=pe(e),he=me(e),we=void 0!==e[0].cost&&null!==e[0].cost&&""!==e[0].cost&&et(e),xe=e[0].description&&rt(e),ye=e[0].tags&&e[0].tags.length>0&&lt(e),ve=e[0].category&&(!e[0].tags||!e[0].tags.length)&&it(e),be=(e[0].website||e[0].register_link)&&st(e);return{c(){t=b("div"),n=b("div"),r=b("div"),l=b("div"),o=k(ne),a=_(),i=b("div"),s=k(ie),c=_(),ge&&ge.c(),u=_(),d=b("div"),g=b("h3"),f=k(ce),p=_(),h=b("div"),w=b("div"),v=$("svg"),D=$("circle"),E=$("polyline"),F=_(),z=b("span"),j=k(ue),A=_(),fe&&fe.c(),B=_(),L=b("div"),he.c(),O=_(),we&&we.c(),T=_(),V=b("div"),N=$("svg"),H=$("path"),R=$("circle"),P=_(),I=b("span"),K=k(de),W=_(),xe&&xe.c(),U=_(),Y=b("div"),ye&&ye.c(),J=_(),ve&&ve.c(),Z=_(),q=b("div"),G=b("button"),G.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>\n        .ics',Q=_(),be&&be.c(),M(l,"class","text-2xl font-bold"),M(i,"class","text-sm"),M(r,"class","bg-primary-600 text-white px-3 flex flex-col items-center text-center w-12 flex-shrink-0 date-indicator"),M(g,"class","text-lg font-semibold text-gray-800 mb-2 line-clamp-2"),M(D,"cx","12"),M(D,"cy","12"),M(D,"r","10"),M(E,"points","12 6 12 12 16 14"),M(v,"xmlns","http://www.w3.org/2000/svg"),M(v,"class","h-4 w-4 text-primary-500"),M(v,"viewBox","0 0 24 24"),M(v,"fill","none"),M(v,"stroke","currentColor"),M(v,"stroke-width","2"),M(v,"stroke-linecap","round"),M(v,"stroke-linejoin","round"),M(w,"class","flex items-center gap-2"),M(L,"class","flex items-center gap-2"),M(H,"d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"),M(R,"cx","12"),M(R,"cy","7"),M(R,"r","4"),M(N,"xmlns","http://www.w3.org/2000/svg"),M(N,"class","h-4 w-4 text-primary-500"),M(N,"viewBox","0 0 24 24"),M(N,"fill","none"),M(N,"stroke","currentColor"),M(N,"stroke-width","2"),M(N,"stroke-linecap","round"),M(N,"stroke-linejoin","round"),M(V,"class","flex items-center gap-2"),M(h,"class","flex flex-wrap gap-4 text-sm text-gray-600 mb-3"),M(Y,"class","flex flex-wrap gap-2"),M(d,"class","p-4 w-full flex-grow main-content"),M(G,"class","w-full py-1 transition-colors hover:bg-gray-50 text-primary-600 flex items-center gap-2 mb-1"),M(q,"class","border-l border-gray-100 px-4 py-4 flex flex-col justify-end text-sm w-32 action-bar"),M(n,"class","flex h-full"),M(t,"class","bg-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all duration-200 h-full overflow-hidden event-card")},m(y,b){x(y,t,b),m(t,n),m(n,r),m(r,l),m(l,o),m(r,a),m(r,i),m(i,s),m(r,c),ge&&ge.m(r,null),m(n,u),m(n,d),m(d,g),m(g,f),m(d,p),m(d,h),m(h,w),m(w,v),m(v,D),m(v,E),m(w,F),m(w,z),m(z,j),m(z,A),fe&&fe.m(z,null),m(h,B),m(h,L),he.m(L,null),m(h,O),we&&we.m(h,null),m(h,T),m(h,V),m(V,N),m(N,H),m(N,R),m(V,P),m(V,I),m(I,K),m(d,W),xe&&xe.m(d,null),m(d,U),m(d,Y),ye&&ye.m(Y,null),m(Y,J),ve&&ve.m(Y,null),m(n,Z),m(n,q),m(q,G),m(q,Q),be&&be.m(q,null),X=!0,ee||(te=S(G,"click",e[2]),ee=!0)},p(e,[t]){(!X||1&t)&&ne!==(ne=gt(e[0].start_date).split(".")[0]+"")&&C(o,ne),(!X||1&t)&&ie!==(ie=new Date(e[0].start_date).toLocaleString("de-DE",{month:"short"})+"")&&C(s,ie),1&t&&(se=e[0].end_date&&new Date(e[0].start_date).toDateString()!==new Date(e[0].end_date).toDateString()),se?ge?ge.p(e,t):(ge=Je(e),ge.c(),ge.m(r,null)):ge&&(ge.d(1),ge=null),(!X||1&t)&&ce!==(ce=e[0].title+"")&&C(f,ce),(!X||1&t)&&ue!==(ue=new Date(e[0].start_date).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})+"")&&C(j,ue),e[0].end_date||e[0].end_time?fe?fe.p(e,t):(fe=Ze(e),fe.c(),fe.m(z,null)):fe&&(fe.d(1),fe=null),me===(me=pe(e))&&he?he.p(e,t):(he.d(1),he=me(e),he&&(he.c(),he.m(L,null))),void 0!==e[0].cost&&null!==e[0].cost&&""!==e[0].cost?we?we.p(e,t):(we=et(e),we.c(),we.m(h,T)):we&&(we.d(1),we=null),(!X||1&t)&&de!==(de=(e[0].organizer||"Unknown organizer")+"")&&C(K,de),e[0].description?xe?xe.p(e,t):(xe=rt(e),xe.c(),xe.m(d,U)):xe&&(xe.d(1),xe=null),e[0].tags&&e[0].tags.length>0?ye?(ye.p(e,t),1&t&&oe(ye,1)):(ye=lt(e),ye.c(),oe(ye,1),ye.m(Y,J)):ye&&(re(),ae(ye,1,1,(()=>{ye=null})),le()),!e[0].category||e[0].tags&&e[0].tags.length?ve&&(re(),ae(ve,1,1,(()=>{ve=null})),le()):ve?(ve.p(e,t),1&t&&oe(ve,1)):(ve=it(e),ve.c(),oe(ve,1),ve.m(Y,null)),e[0].website||e[0].register_link?be?be.p(e,t):(be=st(e),be.c(),be.m(q,null)):be&&(be.d(1),be=null)},i(e){X||(oe(ye),oe(ve),X=!0)},o(e){ae(ye),ae(ve),X=!1},d(e){e&&y(t),ge&&ge.d(),fe&&fe.d(),he.d(),we&&we.d(),xe&&xe.d(),ye&&ye.d(),ve&&ve.d(),be&&be.d(),ee=!1,te()}}}function gt(e){if(!e)return"TBA";const t=new Date(e);return new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit"}).format(t)}function ft(e,t=450){if(!e||e.length<=t)return e;const n=e.substring(0,t).lastIndexOf(" ");return e.substring(0,n>0?n:t)+"..."}function pt(e,t,n){let{event:r}=t;return e.$$set=e=>{"event"in e&&n(0,r=e.event)},[r,function(e){if(!r.tag_groups)return null;for(const[t,n]of Object.entries(r.tag_groups))if(n.includes(e))return t;return null},()=>{We("ics_download",{event_id:r.id,event_title:r.title,organizer:r.organizer});const e=new Date(r.start_date),t=r.end_date?new Date(r.end_date):new Date(e.getTime()+36e5),n=e=>e.toISOString().replace(/-|:|\.\d+/g,"").slice(0,15)+"Z",l=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Nonprofit Events//DE","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${r.id}@nonprofitevents`,`DTSTAMP:${n(new Date)}`,`DTSTART:${n(e)}`,`DTEND:${n(t)}`,`SUMMARY:${r.title}`,`DESCRIPTION:${r.description?r.description.replace(/\n/g,"\\n"):""}`,`LOCATION:${r.location||"Online"}`,`URL:${r.website||r.register_link||""}`,"END:VEVENT","END:VCALENDAR"].join("\r\n"),o=new Blob([l],{type:"text/calendar;charset=utf-8"}),a=URL.createObjectURL(o),i=document.createElement("a");i.href=a,i.download=`event-${r.id}.ics`,document.body.appendChild(i),i.click(),document.body.removeChild(i)}]}window.addEventListener("umami:loaded",(()=>{Ke=!0,function(){for(;Ie.length>0;){const{eventName:e,props:t}=Ie.shift();"undefined"!=typeof umami&&umami.track(e,t)}}()}));class mt extends he{constructor(e){super(),me(this,e,pt,dt,a,{event:0})}}function ht(e,t,n){const r=e.slice();return r[5]=t[n],r}function wt(e){let t,n,r,l,o,a,i,s,c,u,d=e[3].length+"",g=[],f=new Map,p=e[0]&&bt(e),h=e[3];const w=e=>e[5].id;for(let t=0;t<h.length;t+=1){let n=ht(e,h,t),r=w(n);f.set(r,g[t]=$t(r,n))}return{c(){t=b("div"),n=b("h2"),n.textContent="ð Bevorstehende Veranstaltungen",r=_(),p&&p.c(),l=_(),o=b("p"),a=k(d),i=k(" Veranstaltungen gefunden"),s=_(),c=b("div");for(let e=0;e<g.length;e+=1)g[e].c();M(n,"class","text-2xl font-bold py-3 text-gray-800"),M(o,"class","text-gray-500 text-sm"),M(t,"class","mb-6 space-y-2"),M(c,"class","space-y-6")},m(e,d){x(e,t,d),m(t,n),m(t,r),p&&p.m(t,null),m(t,l),m(t,o),m(o,a),m(o,i),x(e,s,d),x(e,c,d);for(let e=0;e<g.length;e+=1)g[e]&&g[e].m(c,null);u=!0},p(e,n){e[0]?p?p.p(e,n):(p=bt(e),p.c(),p.m(t,l)):p&&(p.d(1),p=null),(!u||8&n)&&d!==(d=e[3].length+"")&&C(a,d),8&n&&(h=e[3],re(),g=ue(g,n,w,1,e,h,f,c,ce,$t,null,ht),le())},i(e){if(!u){for(let e=0;e<h.length;e+=1)oe(g[e]);u=!0}},o(e){for(let e=0;e<g.length;e+=1)ae(g[e]);u=!1},d(e){e&&y(t),p&&p.d(),e&&y(s),e&&y(c);for(let e=0;e<g.length;e+=1)g[e].d()}}}function xt(t){let n,r,l,o,a,i,s;function c(e,t){return e[0]?_t:kt}let u=c(t),d=u(t);return{c(){n=b("div"),r=$("svg"),l=$("circle"),o=$("line"),a=_(),i=b("h3"),i.textContent="ð« Keine Veranstaltungen gefunden",s=_(),d.c(),M(l,"cx","12"),M(l,"cy","12"),M(l,"r","10"),M(o,"x1","8"),M(o,"y1","12"),M(o,"x2","16"),M(o,"y2","12"),M(r,"xmlns","http://www.w3.org/2000/svg"),M(r,"class","w-12 h-12 text-gray-300 mb-4"),M(r,"viewBox","0 0 24 24"),M(r,"fill","none"),M(r,"stroke","currentColor"),M(r,"stroke-width","2"),M(r,"stroke-linecap","round"),M(r,"stroke-linejoin","round"),M(i,"class","text-xl font-semibold text-gray-800 mb-2"),M(n,"class","flex flex-col items-center justify-center py-12 text-center")},m(e,t){x(e,n,t),m(n,r),m(r,l),m(r,o),m(n,a),m(n,i),m(n,s),d.m(n,null)},p(e,t){u!==(u=c(e))&&(d.d(1),d=u(e),d&&(d.c(),d.m(n,null)))},i:e,o:e,d(e){e&&y(n),d.d()}}}function yt(t){let n,r,l,o,a,i,s,c,u;return{c(){n=b("div"),r=$("svg"),l=$("circle"),o=$("line"),a=$("line"),i=_(),s=b("p"),c=k("Fehler: "),u=k(t[2]),M(l,"cx","12"),M(l,"cy","12"),M(l,"r","10"),M(o,"x1","12"),M(o,"y1","8"),M(o,"x2","12"),M(o,"y2","12"),M(a,"x1","12"),M(a,"y1","16"),M(a,"x2","12.01"),M(a,"y2","16"),M(r,"xmlns","http://www.w3.org/2000/svg"),M(r,"class","w-6 h-6 flex-shrink-0"),M(r,"viewBox","0 0 24 24"),M(r,"fill","none"),M(r,"stroke","currentColor"),M(r,"stroke-width","2"),M(r,"stroke-linecap","round"),M(r,"stroke-linejoin","round"),M(n,"class","bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md flex items-center gap-3")},m(e,t){x(e,n,t),m(n,r),m(r,l),m(r,o),m(r,a),m(n,i),m(n,s),m(s,c),m(s,u)},p(e,t){4&t&&C(u,e[2])},i:e,o:e,d(e){e&&y(n)}}}function vt(t){let n;return{c(){n=b("div"),n.innerHTML='<div class="w-10 h-10 border-4 border-gray-200 border-t-primary-600 rounded-full animate-spin mb-4"></div> \n      <p class="text-gray-600">â³ Veranstaltungen werden geladen...</p>',M(n,"class","flex flex-col items-center justify-center py-12 text-center")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}function bt(e){let t,n,r;return{c(){t=b("div"),n=k("ð "),r=k(e[0]),M(t,"class","inline-block bg-blue-50 px-3 py-1 rounded-full text-sm text-blue-800")},m(e,l){x(e,t,l),m(t,n),m(t,r)},p(e,t){1&t&&C(r,e[0])},d(e){e&&y(t)}}}function $t(e,t){let n,r,l;return r=new mt({props:{event:t[5]}}),{key:e,first:null,c(){n=D(),de(r.$$.fragment),this.first=n},m(e,t){x(e,n,t),ge(r,e,t),l=!0},p(e,n){t=e;const l={};8&n&&(l.event=t[5]),r.$set(l)},i(e){l||(oe(r.$$.fragment,e),l=!0)},o(e){ae(r.$$.fragment,e),l=!1},d(e){e&&y(n),fe(r,e)}}}function kt(e){let t;return{c(){t=b("p"),t.innerHTML="Momentan sind keine Veranstaltungen geplant.<br/>Schau bald wieder vorbei ð",M(t,"class","text-gray-600")},m(e,n){x(e,t,n)},d(e){e&&y(t)}}}function _t(e){let t;return{c(){t=b("p"),t.innerHTML="Keine Veranstaltungen passen zu deinen Filtern.<br/>Probiere andere Filter aus.",M(t,"class","text-gray-600")},m(e,n){x(e,t,n)},d(e){e&&y(t)}}}function Dt(e){let t,n,r,l;const o=[vt,yt,xt,wt],a=[];function i(e,t){return e[1]?0:e[2]?1:0===e[3].length?2:3}return n=i(e),r=a[n]=o[n](e),{c(){t=b("div"),r.c()},m(e,r){x(e,t,r),a[n].m(t,null),l=!0},p(e,[l]){let s=n;n=i(e),n===s?a[n].p(e,l):(re(),ae(a[s],1,1,(()=>{a[s]=null})),le(),r=a[n],r?r.p(e,l):(r=a[n]=o[n](e),r.c()),oe(r,1),r.m(t,null))},i(e){l||(oe(r),l=!0)},o(e){ae(r),l=!1},d(e){e&&y(t),a[n].d()}}}function St(e,t,n){let r,l,o,a;s(e,Ce,(e=>n(4,r=e))),s(e,Fe,(e=>n(1,l=e))),s(e,ze,(e=>n(2,o=e))),s(e,je,(e=>n(3,a=e)));let i="";return e.$$.update=()=>{if(16&e.$$.dirty){const e=[];r.category&&e.push(`Kategorie "${Ve(r.category)}"`),r.tag&&e.push(`Tag "${r.tag}"`),e.length>0?n(0,i=`Gefiltert nach ${e.join(" und ")}`):n(0,i="")}},[i,l,o,a,r]}class Et extends he{constructor(e){super(),me(this,e,St,Dt,a,{})}}function Mt(e){const t=e-1;return t*t*t+1}function Ct(e,{delay:t=0,duration:n=400,easing:r=Mt,axis:l="y"}={}){const o=getComputedStyle(e),a=+o.opacity,i="y"===l?"height":"width",s=parseFloat(o[i]),c="y"===l?["top","bottom"]:["left","right"],u=c.map((e=>`${e[0].toUpperCase()}${e.slice(1)}`)),d=parseFloat(o[`padding${u[0]}`]),g=parseFloat(o[`padding${u[1]}`]),f=parseFloat(o[`margin${u[0]}`]),p=parseFloat(o[`margin${u[1]}`]),m=parseFloat(o[`border${u[0]}Width`]),h=parseFloat(o[`border${u[1]}Width`]);return{delay:t,duration:n,easing:r,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*a};${i}: ${e*s}px;padding-${c[0]}: ${e*d}px;padding-${c[1]}: ${e*g}px;margin-${c[0]}: ${e*f}px;margin-${c[1]}: ${e*p}px;border-${c[0]}-width: ${e*m}px;border-${c[1]}-width: ${e*h}px;`}}const Ft=be(null);function zt(e){Ft.set(e)}function jt(e){let t,n,r,l;const o=e[8].default,a=function(e,t,n,r){if(e){const l=c(e,t,n,r);return e[0](l)}}(o,e,e[7],null);return{c(){t=b("div"),a&&a.c(),M(t,"id",n="content-"+e[1]),M(t,"class","accordion-content")},m(e,n){x(e,t,n),a&&a.m(t,null),l=!0},p(e,r){a&&a.p&&(!l||128&r)&&function(e,t,n,r,l,o){if(l){const a=c(t,n,r,o);e.p(a,l)}}(a,o,e,e[7],l?function(e,t,n,r){if(e[2]&&r){const l=e[2](r(n));if(void 0===t.dirty)return l;if("object"==typeof l){const e=[],n=Math.max(t.dirty.length,l.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|l[r];return e}return t.dirty|l}return t.dirty}(o,e[7],r,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[7]),null),(!l||2&r&&n!==(n="content-"+e[1]))&&M(t,"id",n)},i(e){l||(oe(a,e),J((()=>{l&&(r||(r=se(t,Ct,{duration:300},!0)),r.run(1))})),l=!0)},o(e){ae(a,e),r||(r=se(t,Ct,{duration:300},!1)),r.run(0),l=!1},d(e){e&&y(t),a&&a.d(e),e&&r&&r.end()}}}function At(e){let t,n,r,l,o,a,i,s,c,u,d,g,f,p,h,w=e[2]&&jt(e);return{c(){t=b("div"),n=b("button"),r=b("span"),l=k(e[0]),o=_(),a=b("span"),i=$("svg"),s=$("polyline"),g=_(),w&&w.c(),M(r,"class","accordion-title text-lg font-bold"),M(s,"points","6 9 12 15 18 9"),M(i,"xmlns","http://www.w3.org/2000/svg"),M(i,"width","20"),M(i,"height","20"),M(i,"viewBox","0 0 24 24"),M(i,"fill","none"),M(i,"stroke","currentColor"),M(i,"stroke-width","2"),M(i,"stroke-linecap","round"),M(i,"stroke-linejoin","round"),M(i,"class",c="chevron "+(e[2]?"rotate":"")),M(a,"class","accordion-icon"),M(n,"class",u="accordion-header py-2 "+(e[2]?"active":"")),M(n,"aria-expanded",e[2]),M(n,"aria-controls",d="content-"+e[1]),M(t,"class","accordion p-4")},m(c,u){x(c,t,u),m(t,n),m(n,r),m(r,l),m(n,o),m(n,a),m(a,i),m(i,s),m(t,g),w&&w.m(t,null),f=!0,p||(h=S(n,"click",e[3]),p=!0)},p(e,[r]){(!f||1&r)&&C(l,e[0]),(!f||4&r&&c!==(c="chevron "+(e[2]?"rotate":"")))&&M(i,"class",c),(!f||4&r&&u!==(u="accordion-header py-2 "+(e[2]?"active":"")))&&M(n,"class",u),(!f||4&r)&&M(n,"aria-expanded",e[2]),(!f||2&r&&d!==(d="content-"+e[1]))&&M(n,"aria-controls",d),e[2]?w?(w.p(e,r),4&r&&oe(w,1)):(w=jt(e),w.c(),oe(w,1),w.m(t,null)):w&&(re(),ae(w,1,1,(()=>{w=null})),le())},i(e){f||(oe(w),f=!0)},o(e){ae(w),f=!1},d(e){e&&y(t),w&&w.d(),p=!1,h()}}}function Bt(e,t,n){let r,l;s(e,Ft,(e=>n(6,l=e)));let{$$slots:o={},$$scope:a}=t,{title:i=""}=t,{defaultOpen:c=!1}=t,{id:u=""}=t,{mobileOnly:d=!1}=t;const g=function(){const e=H();return(t,n,{cancelable:r=!1}={})=>{const l=e.$$.callbacks[t];if(l){const o=A(t,n,{cancelable:r});return l.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}();return e.$$set=e=>{"title"in e&&n(0,i=e.title),"defaultOpen"in e&&n(4,c=e.defaultOpen),"id"in e&&n(1,u=e.id),"mobileOnly"in e&&n(5,d=e.mobileOnly),"$$scope"in e&&n(7,a=e.$$scope)},e.$$.update=()=>{82&e.$$.dirty&&n(2,r=l===u||c)},[i,u,r,function(){zt(r?null:u),g("toggle",{id:u,isOpen:!r})},c,d,l,a,o]}class Lt extends he{constructor(e){super(),me(this,e,Bt,At,a,{title:0,defaultOpen:4,id:1,mobileOnly:5})}}function Ot(e,t,n){const r=e.slice();return r[20]=t[n],r}function Tt(e,t,n){const r=e.slice();return r[23]=t[n][0],r[24]=t[n][1],r}function Vt(e,t,n){const r=e.slice();return r[27]=t[n],r}function Nt(e){let t,n,r,l,o,a,i,s=(e[7][e[23]]||e[23])+"",c=e[24],u=[];for(let t=0;t<c.length;t+=1)u[t]=Ht(Vt(e,c,t));const d=e=>ae(u[e],1,1,(()=>{u[e]=null}));return{c(){t=b("div"),n=b("h3"),r=k(s),l=_(),o=b("div");for(let e=0;e<u.length;e+=1)u[e].c();a=_(),M(n,"class","tag-group-title"),M(o,"class","flex flex-wrap gap-1"),M(t,"class","tag-group mb-4")},m(e,s){x(e,t,s),m(t,n),m(n,r),m(t,l),m(t,o);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(o,null);m(t,a),i=!0},p(e,t){if((!i||32&t)&&s!==(s=(e[7][e[23]]||e[23])+"")&&C(r,s),305&t){let n;for(c=e[24],n=0;n<c.length;n+=1){const r=Vt(e,c,n);u[n]?(u[n].p(r,t),oe(u[n],1)):(u[n]=Ht(r),u[n].c(),oe(u[n],1),u[n].m(o,null))}for(re(),n=c.length;n<u.length;n+=1)d(n);le()}},i(e){if(!i){for(let e=0;e<c.length;e+=1)oe(u[e]);i=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)ae(u[e]);i=!1},d(e){e&&y(t),v(u,e)}}}function Ht(e){let t,n;function r(){return e[12](e[27])}return t=new Pe({props:{tag:e[27],groupId:e[23],selectable:!0,selected:e[0].includes(e[27]),count:e[4][e[27]],onClick:r}}),{c(){de(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},p(n,l){e=n;const o={};32&l&&(o.tag=e[27]),32&l&&(o.groupId=e[23]),33&l&&(o.selected=e[0].includes(e[27])),48&l&&(o.count=e[4][e[27]]),32&l&&(o.onClick=r),t.$set(o)},i(e){n||(oe(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function Rt(e){let t,n,r=e[24].length>0&&Nt(e);return{c(){r&&r.c(),t=D()},m(e,l){r&&r.m(e,l),x(e,t,l),n=!0},p(e,n){e[24].length>0?r?(r.p(e,n),32&n&&oe(r,1)):(r=Nt(e),r.c(),oe(r,1),r.m(t.parentNode,t)):r&&(re(),ae(r,1,1,(()=>{r=null})),le())},i(e){n||(oe(r),n=!0)},o(e){ae(r),n=!1},d(e){r&&r.d(e),e&&y(t)}}}function Pt(e){let t,n,r,l,o,a,i=e[20].label+"";function s(){return e[13](e[20])}return{c(){t=b("button"),n=k(i),r=_(),M(t,"class",l="tag "+(e[2]===e[20].value?"selected":"")+" selectable")},m(e,l){x(e,t,l),m(t,n),m(t,r),o||(a=S(t,"click",s),o=!0)},p(n,r){e=n,4&r&&l!==(l="tag "+(e[2]===e[20].value?"selected":"")+" selectable")&&M(t,"class",l)},d(e){e&&y(t),o=!1,a()}}}function It(e){let t,n,r,l,o,a,i,s,c,u,d,g,f,p=Object.entries(e[5]),h=[];for(let t=0;t<p.length;t+=1)h[t]=Rt(Tt(e,p,t));const w=e=>ae(h[e],1,1,(()=>{h[e]=null}));let $=e[6],D=[];for(let t=0;t<$.length;t+=1)D[t]=Pt(Ot(e,$,t));return{c(){for(let e=0;e<h.length;e+=1)h[e].c();t=_(),n=b("div"),r=b("h3"),r.textContent="Zeitraum",l=_(),o=b("div");for(let e=0;e<D.length;e+=1)D[e].c();a=_(),i=b("div"),s=b("button"),c=k("ZurÃ¼cksetzen"),M(r,"class","tag-group-title"),M(o,"class","flex flex-wrap gap-1"),M(n,"class","tag-group mb-4"),M(s,"type","button"),M(s,"class","flex justify-center items-center px-4 py-2 border border-gray-300 text-sm rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"),s.disabled=u=0===e[0].length&&!e[1]&&"all"===e[2],M(i,"class","flex gap-1 flex-wrap")},m(u,p){for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(u,p);x(u,t,p),x(u,n,p),m(n,r),m(n,l),m(n,o);for(let e=0;e<D.length;e+=1)D[e]&&D[e].m(o,null);x(u,a,p),x(u,i,p),m(i,s),m(s,c),d=!0,g||(f=S(s,"click",e[10]),g=!0)},p(e,n){if(433&n){let r;for(p=Object.entries(e[5]),r=0;r<p.length;r+=1){const l=Tt(e,p,r);h[r]?(h[r].p(l,n),oe(h[r],1)):(h[r]=Rt(l),h[r].c(),oe(h[r],1),h[r].m(t.parentNode,t))}for(re(),r=p.length;r<h.length;r+=1)w(r);le()}if(580&n){let t;for($=e[6],t=0;t<$.length;t+=1){const r=Ot(e,$,t);D[t]?D[t].p(r,n):(D[t]=Pt(r),D[t].c(),D[t].m(o,null))}for(;t<D.length;t+=1)D[t].d(1);D.length=$.length}(!d||7&n&&u!==(u=0===e[0].length&&!e[1]&&"all"===e[2]))&&(s.disabled=u)},i(e){if(!d){for(let e=0;e<p.length;e+=1)oe(h[e]);d=!0}},o(e){h=h.filter(Boolean);for(let e=0;e<h.length;e+=1)ae(h[e]);d=!1},d(e){v(h,e),e&&y(t),e&&y(n),v(D,e),e&&y(a),e&&y(i),g=!1,f()}}}function Kt(e){let t,n,r;return n=new Lt({props:{title:"Filter",defaultOpen:!1,mobileOnly:!0,id:"filter",$$slots:{default:[It]},$$scope:{ctx:e}}}),n.$on("toggle",e[14]),{c(){t=b("div"),de(n.$$.fragment),M(t,"class","bg-white rounded-lg shadow mb-6")},m(e,l){x(e,t,l),ge(n,t,null),r=!0},p(e,[t]){const r={};1073741879&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(oe(n.$$.fragment,e),r=!0)},o(e){ae(n.$$.fragment,e),r=!1},d(e){e&&y(t),fe(n)}}}function Wt(e){const t={};return e.forEach((e=>{e.tags&&Array.isArray(e.tags)&&e.tags.forEach((e=>{t[e]=(t[e]||0)+1}))})),t}function Ut(e,t,n){let r;s(e,De,(e=>n(11,r=e)));let l=[],o=!1,a="all",i=!1,c={},u={topic:[],format:[],audience:[],cost:[]};R((()=>{Wt(r),n(5,u=d(r))}));function d(e){const t={topic:new Set,format:new Set,audience:new Set,cost:new Set};return e.forEach((e=>{e.tag_groups&&Object.entries(e.tag_groups).forEach((([e,n])=>{t[e]&&n.forEach((n=>{c[n]>=3&&t[e].add(n)}))}))})),Object.keys(t).forEach((e=>{t[e]=Array.from(t[e]).sort()})),t}function g(e){l.includes(e)?n(0,l=l.filter((t=>t!==e))):n(0,l=[...l,e]),p(),We("filter_change",{tags:l,onlineOnly:o,timeHorizon:a})}function f(e){n(2,a=e),p(),We("filter_change",{tags:l,onlineOnly:o,timeHorizon:a})}function p(){var e;(e={tags:l,onlineOnly:o,timeHorizon:a}).hasOwnProperty("category")&&delete e.category,Ce.update((t=>e.hasOwnProperty("tags")?{...t,...e,category:""}:{...t,...e})),Ae()}Ce.subscribe((e=>{n(0,l=e.tags?[...e.tags]:[]),n(1,o=e.onlineOnly||!1),n(2,a=e.timeHorizon||"all")}));return e.$$.update=()=>{if(2048&e.$$.dirty&&r&&r.length>0){const e=r.filter((e=>{if(!e.start_date)return!1;const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(e.start_date);return new Date(r.getFullYear(),r.getMonth(),r.getDate())>=n}));n(4,c=Wt(e)),n(5,u=d(e))}},[l,o,a,i,c,u,[{value:"all",label:"Alle Termine"},{value:"today",label:"Heute"},{value:"thisWeek",label:"Diese Woche"},{value:"thisMonth",label:"Diesen Monat"},{value:"nextMonth",label:"NÃ¤chsten Monat"},{value:"next3Months",label:"NÃ¤chste 3 Monate"}],{topic:"Thema",format:"Format",audience:"Zielgruppe",cost:"Kosten"},g,f,function(){n(0,l=[]),n(1,o=!1),n(2,a="all"),p(),We("filter_clear")},r,e=>g(e),e=>f(e.value),({detail:e})=>n(3,i=e.isOpen)]}class Yt extends he{constructor(e){super(),me(this,e,Ut,Kt,a,{})}}function Jt(e){let t,n,r,l,o,a,i,s,c,u,d=e[0]?"URL kopiert!":"CalDAV URL kopieren";return{c(){t=b("button"),n=$("svg"),r=$("rect"),l=$("line"),o=$("line"),a=$("line"),i=_(),s=k(d),M(r,"x","3"),M(r,"y","4"),M(r,"width","18"),M(r,"height","18"),M(r,"rx","2"),M(r,"ry","2"),M(l,"x1","16"),M(l,"y1","2"),M(l,"x2","16"),M(l,"y2","6"),M(o,"x1","8"),M(o,"y1","2"),M(o,"x2","8"),M(o,"y2","6"),M(a,"x1","3"),M(a,"y1","10"),M(a,"x2","21"),M(a,"y2","10"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"width","20"),M(n,"height","20"),M(n,"viewBox","0 0 24 24"),M(n,"fill","none"),M(n,"stroke","currentColor"),M(n,"stroke-width","2"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(t,"class","flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors")},m(d,g){x(d,t,g),m(t,n),m(n,r),m(n,l),m(n,o),m(n,a),m(t,i),m(t,s),c||(u=S(t,"click",e[4]),c=!0)},p(e,t){1&t&&d!==(d=e[0]?"URL kopiert!":"CalDAV URL kopieren")&&C(s,d)},d(e){e&&y(t),c=!1,u()}}}function Zt(e){let t,n,r,l=e[2].nextcloud&&Jt(e);return{c(){t=b("p"),t.textContent="FÃ¼ge diese Veranstaltungen zu deinem persÃ¶nlichen Kalender hinzu:",n=_(),r=b("div"),l&&l.c(),M(t,"class","text-gray-600 mb-4 text-sm"),M(r,"class","flex flex-col gap-3")},m(e,o){x(e,t,o),x(e,n,o),x(e,r,o),l&&l.m(r,null)},p(e,t){e[2].nextcloud?l?l.p(e,t):(l=Jt(e),l.c(),l.m(r,null)):l&&(l.d(1),l=null)},d(e){e&&y(t),e&&y(n),e&&y(r),l&&l.d()}}}function qt(e){let t,n,r;return n=new Lt({props:{title:"Kalender abonnieren",defaultOpen:!1,mobileOnly:!0,id:"calendar",$$slots:{default:[Zt]},$$scope:{ctx:e}}}),n.$on("toggle",e[5]),{c(){t=b("div"),de(n.$$.fragment),M(t,"class","bg-white rounded-lg shadow")},m(e,l){x(e,t,l),ge(n,t,null),r=!0},p(e,[t]){const r={};133&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(oe(n.$$.fragment,e),r=!0)},o(e){ae(n.$$.fragment,e),r=!1},d(e){e&&y(t),fe(n)}}}function Gt(e,t,n){let r;s(e,Me,(e=>n(2,r=e)));let l,o=!1,a=!1;function i(e){navigator.clipboard.writeText(e).then((()=>{n(0,o=!0),l&&clearTimeout(l),l=setTimeout((()=>{n(0,o=!1)}),3e3),We("calendar_subscription_copy",{url:e})})).catch((e=>{console.error("Fehler beim Kopieren in die Zwischenablage:",e),alert("Fehler beim Kopieren in die Zwischenablage. Bitte manuell kopieren.")}))}return[o,a,r,i,()=>i(r.nextcloud),({detail:e})=>n(1,a=e.isOpen)]}class Qt extends he{constructor(e){super(),me(this,e,Gt,qt,a,{})}}function Xt(t){let n,r,l;return{c(){n=b("p"),n.textContent="Dieser Kalender sammelt Digitalisierungsveranstaltungen, die speziell fÃ¼r gemeinnÃ¼tzige Organisationen relevant sind. Die Veranstaltungen decken Themen wie digitales Fundraising, Website-Entwicklung, Datenmanagement und mehr ab.",r=_(),l=b("p"),l.textContent="Alle Veranstaltungen werden von unserem Team geprÃ¼ft und freigegeben, um sicherzustellen, dass sie fÃ¼r den gemeinnÃ¼tzigen Sektor wertvoll sind.",M(n,"class","text-sm text-gray-600 mb-3"),M(l,"class","text-sm text-gray-600")},m(e,t){x(e,n,t),x(e,r,t),x(e,l,t)},p:e,d(e){e&&y(n),e&&y(r),e&&y(l)}}}function en(e){let t,n,r;return n=new Lt({props:{title:"Ãber diesen Kalender",defaultOpen:!1,mobileOnly:!0,id:"about",$$slots:{default:[Xt]},$$scope:{ctx:e}}}),n.$on("toggle",e[1]),{c(){t=b("div"),de(n.$$.fragment),M(t,"class","bg-white rounded-lg shadow")},m(e,l){x(e,t,l),ge(n,t,null),r=!0},p(e,[t]){const r={};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(oe(n.$$.fragment,e),r=!0)},o(e){ae(n.$$.fragment,e),r=!1},d(e){e&&y(t),fe(n)}}}function tn(e,t,n){let r=!1;return[r,({detail:e})=>n(0,r=e.isOpen)]}class nn extends he{constructor(e){super(),me(this,e,tn,en,a,{})}}function rn(t){let n,r,l,o,a,i,s,c,u,d,g,f;return o=new Yt({props:{defaultOpen:!0}}),i=new Qt({props:{defaultOpen:!1}}),c=new nn({props:{defaultOpen:!1}}),g=new Et({}),{c(){n=b("main"),r=b("div"),l=b("aside"),de(o.$$.fragment),a=_(),de(i.$$.fragment),s=_(),de(c.$$.fragment),u=_(),d=b("div"),de(g.$$.fragment),M(l,"class","lg:col-span-1 space-y-6"),M(d,"class","lg:col-span-3"),M(r,"class","grid grid-cols-1 lg:grid-cols-4 gap-8"),M(n,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(e,t){x(e,n,t),m(n,r),m(r,l),ge(o,l,null),m(l,a),ge(i,l,null),m(l,s),ge(c,l,null),m(r,u),m(r,d),ge(g,d,null),f=!0},p:e,i(e){f||(oe(o.$$.fragment,e),oe(i.$$.fragment,e),oe(c.$$.fragment,e),oe(g.$$.fragment,e),f=!0)},o(e){ae(o.$$.fragment,e),ae(i.$$.fragment,e),ae(c.$$.fragment,e),ae(g.$$.fragment,e),f=!1},d(e){e&&y(n),fe(o),fe(i),fe(c),fe(g)}}}function ln(e){return R((()=>{!async function(){await Promise.all([Ae(),Be(),Le(),Oe()])}(),window.innerWidth>=768?Ft.set("filter"):Ft.set(null)})),[]}class on extends he{constructor(e){super(),me(this,e,ln,rn,a,{})}}function an(t){let n;return{c(){n=b("div"),n.innerHTML='<div class="text-center mb-12"><h1 class="text-4xl font-bold text-gray-900 mb-4">Ãber diesen Veranstaltungskalender</h1> \n    <p class="text-xl text-gray-600 max-w-3xl mx-auto">Ein automatisiertes System zur Sammlung und Bereitstellung von Digitalisierungsveranstaltungen fÃ¼r gemeinnÃ¼tzige Organisationen</p></div> \n  \n  \n  <div class="bg-white rounded-xl shadow-lg p-8 mb-10 transform transition-all hover:shadow-xl"><div class="flex items-start mb-6"><div class="bg-primary-600 p-3 rounded-full mr-4 text-white"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg></div> \n      <div><h2 class="text-2xl font-bold text-gray-800 mb-3">Ãber diesen Veranstaltungskalender</h2> \n        <p class="text-gray-700 mb-4 text-lg">Dieser Veranstaltungskalender ist ein automatisiertes System, das speziell fÃ¼r gemeinnÃ¼tzige Organisationen entwickelt wurde, um relevante Digitalisierungsveranstaltungen zu finden und zu verfolgen.</p></div></div> \n    \n    <div class="bg-white rounded-lg p-6 shadow-md mb-6"><h3 class="text-xl font-semibold text-gray-800 mb-4">Wie funktioniert es?</h3> \n      \n      <div class="space-y-4"><div class="flex items-start"><div class="bg-blue-100 p-2 rounded-full mr-3 mt-1 flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></div> \n          <div><h4 class="text-lg font-medium text-gray-800">Datensammlung</h4> \n            <p class="text-gray-600">Python-basierte Scraper durchsuchen regelmÃ¤Ãig mehr als 20 verschiedene Quellen, darunter Websites von Bildungsanbietern, Stiftungen und VerbÃ¤nden. Die Scraper sind individuell fÃ¼r jede Quelle angepasst, um die Veranstaltungsdaten prÃ¤zise zu extrahieren.</p></div></div> \n        \n        <div class="flex items-start"><div class="bg-green-100 p-2 rounded-full mr-3 mt-1 flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg></div> \n          <div><h4 class="text-lg font-medium text-gray-800">Verarbeitung und Kategorisierung</h4> \n            <p class="text-gray-600">Die gesammelten Daten werden normalisiert und in ein einheitliches Format gebracht. AnschlieÃend werden sie mit Hilfe von KI-Technologien und SchlÃ¼sselwortanalyse kategorisiert, um die Suche und Filterung zu erleichtern. Jede Veranstaltung wird nach Thema, Format und Zielgruppe klassifiziert.</p></div></div> \n        \n        <div class="flex items-start"><div class="bg-purple-100 p-2 rounded-full mr-3 mt-1 flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-purple-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg></div> \n          <div><h4 class="text-lg font-medium text-gray-800">QualitÃ¤tssicherung</h4> \n            <p class="text-gray-600">Eine spezielle ModerationsoberflÃ¤che ermÃ¶glicht es unserem Team, die gesammelten Veranstaltungen zu Ã¼berprÃ¼fen und zu bearbeiten. Dies stellt sicher, dass nur relevante und qualitativ hochwertige Veranstaltungen in den Kalender aufgenommen werden. Die Moderation kann auch automatisierte Regeln anwenden, um bestimmte Veranstaltungen automatisch zu genehmigen oder abzulehnen.</p></div></div></div> \n      \n      <div class="mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded"><p class="text-blue-700">Durch diesen automatisierten Prozess kÃ¶nnen wir tÃ¤glich neue Veranstaltungen hinzufÃ¼gen, ohne dass eine manuelle Eingabe erforderlich ist. Das System aktualisiert sich mehrmals tÃ¤glich, um sicherzustellen, dass die Informationen stets aktuell sind.</p></div></div> \n    \n    <div class="bg-white rounded-lg p-6 shadow-md"><h3 class="text-xl font-semibold text-gray-800 mb-4">Vorteile fÃ¼r gemeinnÃ¼tzige Organisationen</h3> \n      \n      <ul class="space-y-3 text-gray-600"><li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> \n          <span>Zentrale Anlaufstelle fÃ¼r alle relevanten Digitalisierungsveranstaltungen</span></li> \n        <li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> \n          <span>Einfache Filterung nach Themen, Formaten und Terminen</span></li> \n        <li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> \n          <span>Kalenderintegration fÃ¼r einfache Terminplanung</span></li> \n        <li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> \n          <span>RegelmÃ¤Ãige Aktualisierungen ohne manuellen Aufwand</span></li> \n        <li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> \n          <span>Fokus auf QualitÃ¤t und Relevanz durch manuelle ÃberprÃ¼fung</span></li></ul></div></div> \n  \n  \n  <div class="bg-gray-50 rounded-xl shadow-lg p-8 mb-10 transform transition-all hover:shadow-xl"><div class="flex items-start mb-6"><div class="bg-gray-800 p-3 rounded-full mr-4 text-white"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></div> \n      <div><h2 class="text-2xl font-bold text-gray-800 mb-3">GitHub Repository</h2> \n        <p class="text-gray-700 mb-6 text-lg">Dieses Projekt ist vollstÃ¤ndig Open Source. Der gesamte Quellcode fÃ¼r den Scraper, die ModerationsoberflÃ¤che und diese Website ist auf GitHub verfÃ¼gbar.</p> \n        \n        <div class="bg-white rounded-lg p-6 shadow-md mb-6"><h3 class="text-xl font-semibold text-gray-800 mb-4">Projektkomponenten</h3> \n          \n          <div class="space-y-4"><div class="flex items-start"><div class="bg-blue-100 p-2 rounded-full mr-3 mt-1 flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg></div> \n              <div><h4 class="text-lg font-medium text-gray-800">Scraper</h4> \n                <p class="text-gray-600">Python-basierte Scraper fÃ¼r verschiedene Veranstaltungsquellen, die regelmÃ¤Ãig ausgefÃ¼hrt werden, um neue Veranstaltungen zu sammeln.</p></div></div> \n            \n            <div class="flex items-start"><div class="bg-green-100 p-2 rounded-full mr-3 mt-1 flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg></div> \n              <div><h4 class="text-lg font-medium text-gray-800">ModerationsoberflÃ¤che</h4> \n                <p class="text-gray-600">Eine WeboberflÃ¤che zur ÃberprÃ¼fung und Bearbeitung der gesammelten Veranstaltungen, bevor sie im Kalender verÃ¶ffentlicht werden.</p></div></div> \n            \n            <div class="flex items-start"><div class="bg-purple-100 p-2 rounded-full mr-3 mt-1 flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-purple-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg></div> \n              <div><h4 class="text-lg font-medium text-gray-800">Website</h4> \n                <p class="text-gray-600">Eine Svelte-basierte Website zur Anzeige und Filterung der Veranstaltungen, mit Funktionen wie Kalenderintegration und responsivem Design.</p></div></div></div></div> \n        \n        <a href="https://github.com/juliusfalk/Event-Scraper" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-6 py-3 bg-gray-800 text-white rounded-md hover:bg-gray-700 transition-colors shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-transform"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>\n          GitHub Repository</a></div></div></div> \n  \n  \n  <div class="bg-green-50 rounded-xl shadow-lg p-8 transform transition-all hover:shadow-xl"><div class="flex items-start"><div class="bg-green-600 p-3 rounded-full mr-4 text-white"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></div> \n      <div><h2 class="text-2xl font-bold text-gray-800 mb-3">Kontakt</h2> \n        <p class="text-gray-700 mb-6 text-lg">Hast du Ideen, Feedback oder Fragen zu diesem Projekt? Wir freuen uns Ã¼ber deine Nachricht!</p> \n        \n        <div class="bg-white rounded-lg p-6 shadow-md mb-6"><h3 class="text-xl font-semibold text-gray-800 mb-4">Wie du helfen kannst</h3> \n          \n          <ul class="space-y-3 text-gray-600"><li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> \n              <span>Neue Veranstaltungsquellen vorschlagen</span></li> \n            <li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> \n              <span>Fehler melden oder VerbesserungsvorschlÃ¤ge einreichen</span></li> \n            <li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> \n              <span>Feedback zur BenutzeroberflÃ¤che und FunktionalitÃ¤t geben</span></li> \n            <li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> \n              <span>Zum Code-Repository beitragen</span></li></ul></div> \n        \n        <a href="mailto:julius@buerofalk.de" class="inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-transform"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>\n          julius@buerofalk.de</a></div></div></div>',M(n,"class","max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}class sn extends he{constructor(e){super(),me(this,e,null,an,a,{})}}async function cn(){try{const e=`https://calapi.buerofalk.de/items/events?${new URLSearchParams({filter:JSON.stringify({approved:{_eq:!0}}),sort:"start_date"})}`,t=await fetch(e,{headers:{Authorization:"Bearer APpU898yct7V2VyMFfcJse_7WXktDY-o"}});if(!t.ok)throw new Error(`API error: ${t.status}`);return(await t.json()).data}catch(e){throw console.error("Error fetching all events:",e),e}}function un(e){let t,n,r,o,a,i,s,c,u,d,g,f,p;return{c(){t=b("div"),n=b("textarea"),r=_(),o=b("div"),a=b("button"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>\n        In Zwischenablage kopieren',i=_(),s=b("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2v6h-6"></path><path d="M3 12a9 9 0 0 1 15-6.7L21 8"></path><path d="M3 22v-6h6"></path><path d="M21 12a9 9 0 0 1-15 6.7L3 16"></path></svg>\n        Aktualisieren',c=_(),u=b("div"),d=k(e[3]),g=k(" Veranstaltungen gefunden"),M(n,"class","w-full h-96 font-mono text-base p-6 border border-gray-200 rounded-lg resize-y mb-6 shadow-inner bg-gray-50 text-gray-800"),M(t,"class","copyfield w-80 h-80 m-auto"),M(a,"class","inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold hover:bg-primary-700 transition-colors gap-2"),M(s,"class","inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-colors gap-2 border border-gray-200"),M(u,"class","inline-flex items-center bg-blue-50 text-blue-800 px-4 py-2 rounded-full text-sm font-medium ml-auto"),M(o,"class","flex gap-4 mb-6")},m(l,h){x(l,t,h),m(t,n),F(n,e[7]),x(l,r,h),x(l,o,h),m(o,a),m(o,i),m(o,s),m(o,c),m(o,u),m(u,d),m(u,g),f||(p=[S(n,"input",e[11]),S(a,"click",e[9]),S(s,"click",e[10])],f=!0)},p(e,t){128&t&&F(n,e[7]),8&t&&C(d,e[3])},d(e){e&&y(t),e&&y(r),e&&y(o),f=!1,l(p)}}}function dn(e){let t,n,r,l,o,a,i,s,c;return{c(){t=b("div"),n=b("div"),n.textContent="Fehler beim Laden der Daten",r=_(),l=b("div"),o=k(e[6]),a=_(),i=b("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2v6h-6"></path><path d="M3 12a9 9 0 0 1 15-6.7L21 8"></path><path d="M3 22v-6h6"></path><path d="M21 12a9 9 0 0 1-15 6.7L3 16"></path></svg>\n        Erneut versuchen',M(n,"class","font-semibold mb-2"),M(i,"class","mt-4 inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-colors gap-2 border border-gray-200"),M(t,"class","bg-red-50 text-red-700 p-6 rounded-lg mb-6")},m(u,d){x(u,t,d),m(t,n),m(t,r),m(t,l),m(l,o),m(t,a),m(t,i),s||(c=S(i,"click",e[10]),s=!0)},p(e,t){64&t&&C(o,e[6])},d(e){e&&y(t),s=!1,c()}}}function gn(e){let t,n,r,l,o;return{c(){t=b("div"),n=b("div"),r=_(),l=b("div"),o=k(e[2]),M(n,"class","w-10 h-10 border-4 border-gray-100 border-t-primary-600 rounded-full animate-spin mb-4"),M(l,"class","text-primary-600 font-medium"),M(t,"class","flex flex-col items-center justify-center py-12")},m(e,a){x(e,t,a),m(t,n),m(t,r),m(t,l),m(l,o)},p(e,t){4&t&&C(o,e[2])},d(e){e&&y(t)}}}function fn(t){let n,r,l,o,a,i,s,c,u,d,g,f,p,h,w,v,$,D,S,E,F,z;function j(e,t){return e[4]?gn:e[5]?dn:un}let A=j(t),B=A(t);return{c(){n=b("div"),r=b("div"),l=b("h1"),l.textContent="LinkedIn-Post Generator",o=_(),a=b("div"),i=b("span"),s=k("Zeitraum: "),c=k(t[0]),u=k(" bis "),d=k(t[1]),g=_(),B.c(),f=_(),p=b("div"),h=b("h2"),h.textContent="Informationen",w=_(),v=b("p"),v.textContent="Dieser Generator erstellt einen formatierten LinkedIn-Post mit allen genehmigten Veranstaltungen fÃ¼r die nÃ¤chste Woche.",$=_(),D=b("p"),D.textContent="Die Veranstaltungen werden nach Wochentagen gruppiert und chronologisch sortiert.",S=_(),E=b("p"),F=k("Status: "),z=k(t[2]),M(l,"class","text-3xl font-bold text-gray-800 pb-4 border-b-2 border-gray-100"),M(a,"class","bg-gray-100 px-4 py-2 rounded-lg text-sm text-gray-600"),M(r,"class","flex justify-between items-center mb-8"),M(h,"class","text-xl font-semibold mb-4 text-gray-800"),M(v,"class","my-2 leading-relaxed"),M(D,"class","my-2 leading-relaxed"),M(E,"class","my-2 leading-relaxed"),M(p,"class","mt-8 p-6 bg-gray-100 rounded-lg text-sm text-gray-600"),M(n,"class","max-w-4xl mx-auto my-12 p-10 bg-white rounded-xl shadow-lg")},m(e,t){x(e,n,t),m(n,r),m(r,l),m(r,o),m(r,a),m(a,i),m(i,s),m(i,c),m(i,u),m(i,d),m(n,g),B.m(n,null),m(n,f),m(n,p),m(p,h),m(p,w),m(p,v),m(p,$),m(p,D),m(p,S),m(p,E),m(E,F),m(E,z)},p(e,[t]){1&t&&C(c,e[0]),2&t&&C(d,e[1]),A===(A=j(e))&&B?B.p(e,t):(B.d(1),B=A(e),B&&(B.c(),B.m(n,f))),4&t&&C(z,e[2])},i:e,o:e,d(e){e&&y(n),B.d()}}}function pn(e){if(!e)return"";return new Date(e).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}function mn(e,t,n){let r,l="",o="",a="",i=0,c=[],u=[];const d=be("");s(e,d,(e=>n(7,r=e)));let g=!0,f=!1,p="";R((async()=>{try{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=t.getDay(),s=0===r?1:8-r,d=new Date(t);d.setDate(t.getDate()+s);const f=new Date(d);f.setDate(d.getDate()+6),n(0,l=d.toLocaleDateString("de-DE")),n(1,o=f.toLocaleDateString("de-DE")),n(2,a="Lade Veranstaltungen..."),n(4,g=!0),c=await cn(),console.log("Alle geladenen Veranstaltungen:",c),u=c.filter((e=>{if(!e.start_date)return!1;const t=new Date(e.start_date);return t>=d&&t<=f})),n(3,i=u.length),console.log("Veranstaltungen fÃ¼r nÃ¤chste Woche:",u),n(2,a="Veranstaltungen geladen"),n(4,g=!1),h()}catch(e){n(2,a=`Fehler beim Laden: ${e.message}`),n(6,p=e.message),n(5,f=!0),n(4,g=!1),console.error("Fehler beim Laden der Daten:",e)}}));const m={Montag:"ðµ",Dienstag:"ð¢",Mittwoch:"ð ",Donnerstag:"ð£",Freitag:"ð¡",Samstag:"â«",Sonntag:"ð´"};function h(){if(!u||0===u.length)return void d.set("Keine Veranstaltungen fÃ¼r die nÃ¤chste Woche gefunden.");const e=u.map((e=>new Date(e.start_date))),t=new Date(Math.min(...e)),n=new Date(Math.max(...e));t.toLocaleDateString("de-DE"),n.toLocaleDateString("de-DE");const r=function(e){const t={};for(const n of e){if(!n.start_date)continue;const e=new Date(n.start_date).toLocaleDateString("de-DE",{weekday:"long"});t[e]||(t[e]=[]),t[e].push(n)}for(const e in t)t[e].sort(((e,t)=>new Date(e.start_date)-new Date(t.start_date)));return t}(u);let l="ðââï¸ Digitalisierungs Service Post \n ð Kommende Veranstaltungen zur Digitalisierung im Non-Profit-Bereich\n\n";const o=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"];for(const e of o){if(!r[e])continue;l+=`${m[e]||""} ${e}, ${new Date(r[e][0].start_date).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})}\n`;for(const t of r[e]){const e=pn(t.start_date),n=t.title||"Kein Titel",r=t.source||"Unbekannter Veranstalter",o=t.location?`ð ${t.location}`:"ð» Online",a=t.website||t.register_link||"",i=a?`ð ${a}`:"ð Keine Anmeldelink verfÃ¼gbar";let s="";void 0!==t.cost&&null!==t.cost&&""!==t.cost&&(s=0===t.cost||"0"===t.cost||"kostenlos"===t.cost||"Kostenlos"===t.cost||"free"===t.cost||"Free"===t.cost?"ð° Kostenlos":`ð° ${"number"==typeof t.cost?`${t.cost} â¬`:t.cost}`),l+=`ð ${n}\n    ð ${e} \n    ð¥ ${r}\n    ${o}\n    ${s?`${s}\n  `:""}  ${i}\n\n`}l+="âââ\n\n"}l+="ð Weitere Veranstaltungen findest du auf DigiKal: digikal.org\n",l+="#nonprofitdigital #veranstaltungen #digitalisierung\n",d.set(l)}return[l,o,a,i,g,f,p,r,d,async function(){const e=await new Promise((e=>{d.subscribe((t=>e(t)))()}));try{await navigator.clipboard.writeText(e),alert("LinkedIn-Post wurde in die Zwischenablage kopiert!")}catch(e){alert("Fehler beim Kopieren in die Zwischenablage.")}},async function(){try{n(4,g=!0),n(2,a="Lade Veranstaltungen..."),n(5,f=!1),c=await cn();const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=t.getDay(),l=0===r?1:8-r,o=new Date(t);o.setDate(t.getDate()+l);const s=new Date(o);s.setDate(o.getDate()+6),u=c.filter((e=>{if(!e.start_date)return!1;const t=new Date(e.start_date);return t>=o&&t<=s})),n(3,i=u.length),n(2,a="Veranstaltungen geladen"),n(4,g=!1),h()}catch(e){n(2,a=`Fehler beim Laden: ${e.message}`),n(6,p=e.message),n(5,f=!0),n(4,g=!1),console.error("Fehler beim Laden der Daten:",e)}},function(){r=this.value,d.set(r)}]}class hn extends he{constructor(e){super(),me(this,e,mn,fn,a,{})}}const wn=be([]),xn=be({tags:[],bundesland:"",fundingType:"",providerType:"",deadlineHorizon:"all",fundingAmountRange:"",foerdergeber:"",source:""}),yn=be(!1),vn=be(null);const bn=$e([wn,xn],(([e,t])=>{console.log("[FoerdermittelStore] Filtering",e.length,"programs with filters:",t);const n=new Date;return n.setHours(0,0,0,0),e.filter((e=>{if(e.application_deadline&&"laufend"!==e.deadline_type&&"jaehrlich"!==e.deadline_type)try{const t=new Date(e.application_deadline);if(t.setHours(0,0,0,0),t<n)return!1}catch(t){console.error("Error parsing deadline date:",t,e.application_deadline)}if(t.tags&&t.tags.length>0){if(!e.tag_groups)return!1;const n=[];if(e.tag_groups){const t="string"==typeof e.tag_groups?JSON.parse(e.tag_groups):e.tag_groups;Object.values(t).forEach((e=>{Array.isArray(e)&&n.push(...e.map((e=>e.toLowerCase())))}))}for(const e of t.tags)if(!n.includes(e.toLowerCase()))return!1}if(t.bundesland&&""!==t.bundesland&&e.bundesland!==t.bundesland)return!1;if(t.fundingType&&""!==t.fundingType&&e.funding_type!==t.fundingType)return!1;if(t.providerType&&""!==t.providerType&&e.funding_provider_type!==t.providerType)return!1;if(t.deadlineHorizon&&"all"!==t.deadlineHorizon){const n=function(e){const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(e){case"thisMonth":return{start:new Date(n.getFullYear(),n.getMonth(),1),end:new Date(n.getFullYear(),n.getMonth()+1,0)};case"next3Months":{const e=new Date(n);return e.setMonth(n.getMonth()+3),{start:n,end:e}}case"next6Months":{const e=new Date(n);return e.setMonth(n.getMonth()+6),{start:n,end:e}}case"ongoing":return{type:"ongoing"};default:return{start:null,end:null}}}(t.deadlineHorizon);if("ongoing"===n.type){if("laufend"!==e.deadline_type&&"jaehrlich"!==e.deadline_type)return!1}else if(n.start||n.end){if("laufend"===e.deadline_type||"jaehrlich"===e.deadline_type)return!1;if(!e.application_deadline)return!1;try{const t=new Date(e.application_deadline);if(n.start&&t<n.start)return!1;if(n.end&&t>n.end)return!1}catch(t){console.error("Error parsing deadline date:",t,e.application_deadline)}}}if(t.fundingAmountRange&&""!==t.fundingAmountRange){const n=e.funding_amount_min,r=e.funding_amount_max;if(!n&&!r)return!0;const l=r?(n+r)/2:n;switch(t.fundingAmountRange){case"small":if(l&&l>=1e4)return!1;break;case"medium":if(!l||l<1e4||l>5e4)return!1;break;case"large":if(!l||l<5e4||l>1e5)return!1;break;case"xlarge":if(!l||l<1e5)return!1}}if(t.foerdergeber&&""!==t.foerdergeber){if(!e.tag_groups)return!1;const n="string"==typeof e.tag_groups?JSON.parse(e.tag_groups):e.tag_groups;if(!n.foerdergeber||!Array.isArray(n.foerdergeber))return!1;if(!n.foerdergeber.includes(t.foerdergeber))return!1}return!t.source||""===t.source||e.source===t.source}))}));async function $n(){yn.set(!0),vn.set(null);try{console.log("[FoerdermittelStore] Loading fÃ¶rderprogramme...");const e=await async function(){try{let e={_or:[{_and:[{relevance_score:{_gte:60}},{status:{_eq:"published"}}]},{status:{_eq:"draft"}}]};const t=new URLSearchParams({filter:JSON.stringify(e),sort:"-application_deadline",limit:"-1"}),n=`${_e}/foerdermittel?${t}`,r=await fetch(n,{headers:{Authorization:`Bearer ${ke}`}});if(!r.ok)throw new Error(`API error: ${r.status}`);return(await r.json()).data}catch(e){throw console.error("Error fetching fÃ¶rderprogramme:",e),e}}();console.log("[FoerdermittelStore] Loaded",e.length,"programs from API"),wn.set(e)}catch(e){console.error("Fehler beim Laden der FÃ¶rderprogramme:",e),vn.set("Fehler beim Laden der FÃ¶rderprogramme. Bitte versuchen Sie es spÃ¤ter erneut.")}finally{yn.set(!1)}}function kn(e,t,n){const r=e.slice();return r[6]=t[n],r}function _n(e){let t,n,r,l,o,a,i,s=Ln(e[0].bundesland)+"";return{c(){t=b("div"),n=$("svg"),r=$("path"),l=$("circle"),o=_(),a=b("span"),i=k(s),M(r,"d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"),M(l,"cx","12"),M(l,"cy","10"),M(l,"r","3"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","h-4 w-4 text-primary-500"),M(n,"viewBox","0 0 24 24"),M(n,"fill","none"),M(n,"stroke","currentColor"),M(n,"stroke-width","2"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(t,"class","flex items-center gap-2")},m(e,s){x(e,t,s),m(t,n),m(n,r),m(n,l),m(t,o),m(t,a),m(a,i)},p(e,t){1&t&&s!==(s=Ln(e[0].bundesland)+"")&&C(i,s)},d(e){e&&y(t)}}}function Dn(e){let t,n,r,l,o,a,i,s=e[0].funding_organization+"";return{c(){t=b("div"),n=$("svg"),r=$("path"),l=$("polyline"),o=_(),a=b("span"),i=k(s),M(r,"d","M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"),M(l,"points","9 22 9 12 15 12 15 22"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","h-4 w-4 text-primary-500"),M(n,"viewBox","0 0 24 24"),M(n,"fill","none"),M(n,"stroke","currentColor"),M(n,"stroke-width","2"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(t,"class","flex items-center gap-2")},m(e,s){x(e,t,s),m(t,n),m(n,r),m(n,l),m(t,o),m(t,a),m(a,i)},p(e,t){1&t&&s!==(s=e[0].funding_organization+"")&&C(i,s)},d(e){e&&y(t)}}}function Sn(e){let t,n,r=An(e[0].description,350)+"";return{c(){t=b("p"),n=k(r),M(t,"class","text-sm text-gray-700 mb-3 line-clamp-3")},m(e,r){x(e,t,r),m(t,n)},p(e,t){1&t&&r!==(r=An(e[0].description,350)+"")&&C(n,r)},d(e){e&&y(t)}}}function En(e){let t,n,r,l,o=e[0].funding_amount_text+"";return{c(){t=b("p"),n=b("span"),n.textContent="FÃ¶rdersumme:",r=_(),l=k(o),M(n,"class","font-semibold"),M(t,"class","text-sm text-gray-600 mb-3")},m(e,o){x(e,t,o),m(t,n),m(t,r),m(t,l)},p(e,t){1&t&&o!==(o=e[0].funding_amount_text+"")&&C(l,o)},d(e){e&&y(t)}}}function Mn(t){let n,r;return n=new Pe({props:{tag:t[6],groupId:t[1](t[6])}}),{c(){de(n.$$.fragment)},m(e,t){ge(n,e,t),r=!0},p:e,i(e){r||(oe(n.$$.fragment,e),r=!0)},o(e){ae(n.$$.fragment,e),r=!1},d(e){fe(n,e)}}}function Cn(e){let t,n,r=e[0].application_portal&&Fn(e),l=e[0].website&&zn(e);return{c(){t=b("div"),r&&r.c(),n=_(),l&&l.c()},m(e,o){x(e,t,o),r&&r.m(t,null),m(t,n),l&&l.m(t,null)},p(e,o){e[0].application_portal?r?r.p(e,o):(r=Fn(e),r.c(),r.m(t,n)):r&&(r.d(1),r=null),e[0].website?l?l.p(e,o):(l=zn(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(e){e&&y(t),r&&r.d(),l&&l.d()}}}function Fn(e){let t,n,r,l,o,a,i,s;return{c(){t=b("a"),n=$("svg"),r=$("path"),l=$("circle"),o=$("line"),a=$("line"),i=k("\n              Beantragen"),M(r,"d","M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"),M(l,"cx","8.5"),M(l,"cy","7"),M(l,"r","4"),M(o,"x1","20"),M(o,"y1","8"),M(o,"x2","20"),M(o,"y2","14"),M(a,"x1","23"),M(a,"y1","11"),M(a,"x2","17"),M(a,"y2","11"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","h-4 w-4"),M(n,"viewBox","0 0 24 24"),M(n,"fill","none"),M(n,"stroke","currentColor"),M(n,"stroke-width","2"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(t,"href",s=e[0].application_portal),M(t,"target","_blank"),M(t,"rel","noopener noreferrer"),M(t,"class","w-full py-1 transition-colors hover:bg-gray-50 text-primary-600 flex items-center gap-2 mb-2")},m(e,s){x(e,t,s),m(t,n),m(n,r),m(n,l),m(n,o),m(n,a),m(t,i)},p(e,n){1&n&&s!==(s=e[0].application_portal)&&M(t,"href",s)},d(e){e&&y(t)}}}function zn(e){let t,n,r,l,o,a,i;return{c(){t=b("a"),n=$("svg"),r=$("circle"),l=$("line"),o=$("path"),a=k("\n              Info"),M(r,"cx","12"),M(r,"cy","12"),M(r,"r","10"),M(l,"x1","2"),M(l,"y1","12"),M(l,"x2","22"),M(l,"y2","12"),M(o,"d","M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","h-4 w-4"),M(n,"viewBox","0 0 24 24"),M(n,"fill","none"),M(n,"stroke","currentColor"),M(n,"stroke-width","2"),M(n,"stroke-linecap","round"),M(n,"stroke-linejoin","round"),M(t,"href",i=e[0].website),M(t,"target","_blank"),M(t,"rel","noopener noreferrer"),M(t,"class","w-full py-1 transition-colors hover:bg-gray-50 text-primary-600 flex items-center gap-2")},m(e,i){x(e,t,i),m(t,n),m(n,r),m(n,l),m(n,o),m(t,a)},p(e,n){1&n&&i!==(i=e[0].website)&&M(t,"href",i)},d(e){e&&y(t)}}}function jn(t){let n,r,l,o,a,i,s,c,u,d,g,f,p,h,w,D,S,E,F,z,j,A,B,L,O,T,V,N,H,R,P,I,K,W,U,Y,J=t[0].title+"",Z=t[2]().length>3,q=t[0].bundesland&&_n(t),G=t[0].funding_organization&&Dn(t),Q=t[0].description&&Sn(t),X=t[0].funding_amount_text&&En(t),ee=t[2]().slice(0,3),te=[];for(let e=0;e<ee.length;e+=1)te[e]=Mn(kn(t,ee,e));const ne=e=>ae(te[e],1,1,(()=>{te[e]=null}));let ie=Z&&function(t){let n;return{c(){n=b("span"),n.textContent=`+${t[2]().length-3} mehr`,M(n,"class","px-2 py-1 bg-gray-100 text-gray-500 text-xs rounded-full")},m(e,t){x(e,n,t)},p:e,d(e){e&&y(n)}}}(t),se=(t[0].website||t[0].application_portal)&&Cn(t);return{c(){n=b("div"),r=b("div"),l=b("div"),o=_(),a=b("div"),i=b("h3"),s=k(J),c=_(),u=b("div"),d=b("div"),g=$("svg"),f=$("circle"),p=$("path"),h=$("line"),w=$("line"),D=_(),S=b("span"),S.textContent=`${t[3]()}`,E=_(),F=b("div"),z=$("svg"),j=$("rect"),A=$("line"),B=$("line"),L=$("line"),O=_(),T=b("span"),T.textContent=`${t[4]()}`,V=_(),q&&q.c(),N=_(),G&&G.c(),H=_(),Q&&Q.c(),R=_(),X&&X.c(),P=_(),I=b("div");for(let e=0;e<te.length;e+=1)te[e].c();var e,m,x,y;K=_(),ie&&ie.c(),W=_(),U=b("div"),se&&se.c(),M(l,"class","w-4 flex-shrink-0"),e=l,m="background-color",null==(x=t[5]())?e.style.removeProperty(m):e.style.setProperty(m,x,y?"important":""),M(i,"class","text-lg font-semibold text-gray-800 mb-2 line-clamp-2"),M(f,"cx","12"),M(f,"cy","12"),M(f,"r","10"),M(p,"d","M15 9.5a3.5 3.5 0 0 0-7 0v2a3.5 3.5 0 0 0 7 0"),M(h,"x1","8"),M(h,"y1","11"),M(h,"x2","16"),M(h,"y2","11"),M(w,"x1","8"),M(w,"y1","15"),M(w,"x2","12"),M(w,"y2","15"),M(g,"xmlns","http://www.w3.org/2000/svg"),M(g,"class","h-4 w-4 text-primary-500"),M(g,"viewBox","0 0 24 24"),M(g,"fill","none"),M(g,"stroke","currentColor"),M(g,"stroke-width","2"),M(g,"stroke-linecap","round"),M(g,"stroke-linejoin","round"),M(d,"class","flex items-center gap-2"),M(j,"x","3"),M(j,"y","4"),M(j,"width","18"),M(j,"height","18"),M(j,"rx","2"),M(j,"ry","2"),M(A,"x1","16"),M(A,"y1","2"),M(A,"x2","16"),M(A,"y2","6"),M(B,"x1","8"),M(B,"y1","2"),M(B,"x2","8"),M(B,"y2","6"),M(L,"x1","3"),M(L,"y1","10"),M(L,"x2","21"),M(L,"y2","10"),M(z,"xmlns","http://www.w3.org/2000/svg"),M(z,"class","h-4 w-4 text-primary-500"),M(z,"viewBox","0 0 24 24"),M(z,"fill","none"),M(z,"stroke","currentColor"),M(z,"stroke-width","2"),M(z,"stroke-linecap","round"),M(z,"stroke-linejoin","round"),M(F,"class","flex items-center gap-2"),M(u,"class","flex flex-wrap gap-4 text-sm text-gray-600 mb-3"),M(I,"class","flex flex-wrap gap-2"),M(a,"class","p-4 w-full flex-grow main-content"),M(U,"class","border-l border-gray-100 px-4 py-4 flex flex-col justify-end text-sm w-32 action-bar"),M(r,"class","flex h-full"),M(n,"class","bg-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all duration-200 h-full overflow-hidden event-card")},m(e,t){x(e,n,t),m(n,r),m(r,l),m(r,o),m(r,a),m(a,i),m(i,s),m(a,c),m(a,u),m(u,d),m(d,g),m(g,f),m(g,p),m(g,h),m(g,w),m(d,D),m(d,S),m(u,E),m(u,F),m(F,z),m(z,j),m(z,A),m(z,B),m(z,L),m(F,O),m(F,T),m(u,V),q&&q.m(u,null),m(u,N),G&&G.m(u,null),m(a,H),Q&&Q.m(a,null),m(a,R),X&&X.m(a,null),m(a,P),m(a,I);for(let e=0;e<te.length;e+=1)te[e]&&te[e].m(I,null);m(I,K),ie&&ie.m(I,null),m(r,W),m(r,U),se&&se.m(U,null),Y=!0},p(e,[t]){if((!Y||1&t)&&J!==(J=e[0].title+"")&&C(s,J),e[0].bundesland?q?q.p(e,t):(q=_n(e),q.c(),q.m(u,N)):q&&(q.d(1),q=null),e[0].funding_organization?G?G.p(e,t):(G=Dn(e),G.c(),G.m(u,null)):G&&(G.d(1),G=null),e[0].description?Q?Q.p(e,t):(Q=Sn(e),Q.c(),Q.m(a,R)):Q&&(Q.d(1),Q=null),e[0].funding_amount_text?X?X.p(e,t):(X=En(e),X.c(),X.m(a,P)):X&&(X.d(1),X=null),6&t){let n;for(ee=e[2]().slice(0,3),n=0;n<ee.length;n+=1){const r=kn(e,ee,n);te[n]?(te[n].p(r,t),oe(te[n],1)):(te[n]=Mn(r),te[n].c(),oe(te[n],1),te[n].m(I,K))}for(re(),n=ee.length;n<te.length;n+=1)ne(n);le()}Z&&ie.p(e,t),e[0].website||e[0].application_portal?se?se.p(e,t):(se=Cn(e),se.c(),se.m(U,null)):se&&(se.d(1),se=null)},i(e){if(!Y){for(let e=0;e<ee.length;e+=1)oe(te[e]);Y=!0}},o(e){te=te.filter(Boolean);for(let e=0;e<te.length;e+=1)ae(te[e]);Y=!1},d(e){e&&y(n),q&&q.d(),G&&G.d(),Q&&Q.d(),X&&X.d(),v(te,e),ie&&ie.d(),se&&se.d()}}}function An(e,t=450){if(!e||e.length<=t)return e;const n=e.substring(0,t).lastIndexOf(" ");return e.substring(0,n>0?n:t)+"..."}function Bn(e){return new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}).format(e)+" â¬"}function Ln(e){return e?e.replace(/_/g,"-").replace("eu-weit","EU-weit"):""}function On(e,t,n){let{program:r}=t;return e.$$set=e=>{"program"in e&&n(0,r=e.program)},[r,function(e){if(!r.tag_groups)return null;const t="string"==typeof r.tag_groups?JSON.parse(r.tag_groups):r.tag_groups;for(const[n,r]of Object.entries(t))if(r&&Array.isArray(r)&&r.includes(e))return n;return null},function(){if(!r.tag_groups)return[];const e="string"==typeof r.tag_groups?JSON.parse(r.tag_groups):r.tag_groups,t=[];return Object.values(e).forEach((e=>{Array.isArray(e)&&t.push(...e)})),t},function(){return r.funding_amount_min&&r.funding_amount_max?`${Bn(r.funding_amount_min)} - ${Bn(r.funding_amount_max)}`:r.funding_amount_min?`ab ${Bn(r.funding_amount_min)}`:r.funding_amount_max?`bis ${Bn(r.funding_amount_max)}`:"Betrag variabel"},function(){return"laufend"===r.deadline_type?"Laufend":"jaehrlich"===r.deadline_type?"JÃ¤hrlich":"geschlossen"===r.deadline_type?"Geschlossen":r.application_deadline?new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(r.application_deadline)):"Einmalig"},function(){if("laufend"===r.deadline_type||"jaehrlich"===r.deadline_type)return"#3b82f6";if(!r.application_deadline||"geschlossen"===r.deadline_type)return"#9ca3af";const e=new Date,t=new Date(r.application_deadline),n=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth());return n<=3?"#ec4899":n<=10?"#10b981":"#9ca3af"}]}$e(wn,(e=>{const t={};for(const n of e)if(n.tag_groups){const e="string"==typeof n.tag_groups?JSON.parse(n.tag_groups):n.tag_groups;Object.values(e).forEach((e=>{if(Array.isArray(e))for(const n of e)t[n]=(t[n]||0)+1}))}return Object.entries(t).sort(((e,t)=>t[1]-e[1])).slice(0,20).map((([e])=>e))}));class Tn extends he{constructor(e){super(),me(this,e,On,jn,a,{program:0})}}function Vn(e,t,n){const r=e.slice();return r[5]=t[n],r}function Nn(e){let t,n,r,l,o,a,i,s,c,u,d=e[3].length+"",g=[],f=new Map,p=e[0]&&In(e),h=e[3];const w=e=>e[5].id;for(let t=0;t<h.length;t+=1){let n=Vn(e,h,t),r=w(n);f.set(r,g[t]=Kn(r,n))}return{c(){t=b("div"),n=b("h2"),n.textContent="Relevante FÃ¶rderprogramme",r=_(),p&&p.c(),l=_(),o=b("p"),a=k(d),i=k(" FÃ¶rderprogramme gefunden"),s=_(),c=b("div");for(let e=0;e<g.length;e+=1)g[e].c();M(n,"class","text-2xl font-bold py-3 text-gray-800"),M(o,"class","text-gray-500 text-sm"),M(t,"class","mb-6 space-y-2"),M(c,"class","space-y-6")},m(e,d){x(e,t,d),m(t,n),m(t,r),p&&p.m(t,null),m(t,l),m(t,o),m(o,a),m(o,i),x(e,s,d),x(e,c,d);for(let e=0;e<g.length;e+=1)g[e]&&g[e].m(c,null);u=!0},p(e,n){e[0]?p?p.p(e,n):(p=In(e),p.c(),p.m(t,l)):p&&(p.d(1),p=null),(!u||8&n)&&d!==(d=e[3].length+"")&&C(a,d),8&n&&(h=e[3],re(),g=ue(g,n,w,1,e,h,f,c,ce,Kn,null,Vn),le())},i(e){if(!u){for(let e=0;e<h.length;e+=1)oe(g[e]);u=!0}},o(e){for(let e=0;e<g.length;e+=1)ae(g[e]);u=!1},d(e){e&&y(t),p&&p.d(),e&&y(s),e&&y(c);for(let e=0;e<g.length;e+=1)g[e].d()}}}function Hn(t){let n,r,l,o,a,i,s;function c(e,t){return e[0]?Un:Wn}let u=c(t),d=u(t);return{c(){n=b("div"),r=$("svg"),l=$("circle"),o=$("line"),a=_(),i=b("h3"),i.textContent="Keine FÃ¶rderprogramme gefunden",s=_(),d.c(),M(l,"cx","12"),M(l,"cy","12"),M(l,"r","10"),M(o,"x1","8"),M(o,"y1","12"),M(o,"x2","16"),M(o,"y2","12"),M(r,"xmlns","http://www.w3.org/2000/svg"),M(r,"class","w-12 h-12 text-gray-300 mb-4"),M(r,"viewBox","0 0 24 24"),M(r,"fill","none"),M(r,"stroke","currentColor"),M(r,"stroke-width","2"),M(r,"stroke-linecap","round"),M(r,"stroke-linejoin","round"),M(i,"class","text-xl font-semibold text-gray-800 mb-2"),M(n,"class","flex flex-col items-center justify-center py-12 text-center")},m(e,t){x(e,n,t),m(n,r),m(r,l),m(r,o),m(n,a),m(n,i),m(n,s),d.m(n,null)},p(e,t){u!==(u=c(e))&&(d.d(1),d=u(e),d&&(d.c(),d.m(n,null)))},i:e,o:e,d(e){e&&y(n),d.d()}}}function Rn(t){let n,r,l,o,a,i,s,c,u;return{c(){n=b("div"),r=$("svg"),l=$("circle"),o=$("line"),a=$("line"),i=_(),s=b("p"),c=k("Fehler: "),u=k(t[2]),M(l,"cx","12"),M(l,"cy","12"),M(l,"r","10"),M(o,"x1","12"),M(o,"y1","8"),M(o,"x2","12"),M(o,"y2","12"),M(a,"x1","12"),M(a,"y1","16"),M(a,"x2","12.01"),M(a,"y2","16"),M(r,"xmlns","http://www.w3.org/2000/svg"),M(r,"class","w-6 h-6 flex-shrink-0"),M(r,"viewBox","0 0 24 24"),M(r,"fill","none"),M(r,"stroke","currentColor"),M(r,"stroke-width","2"),M(r,"stroke-linecap","round"),M(r,"stroke-linejoin","round"),M(n,"class","bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md flex items-center gap-3")},m(e,t){x(e,n,t),m(n,r),m(r,l),m(r,o),m(r,a),m(n,i),m(n,s),m(s,c),m(s,u)},p(e,t){4&t&&C(u,e[2])},i:e,o:e,d(e){e&&y(n)}}}function Pn(t){let n;return{c(){n=b("div"),n.innerHTML='<div class="w-10 h-10 border-4 border-gray-200 border-t-primary-600 rounded-full animate-spin mb-4"></div> \n      <p class="text-gray-600">FÃ¶rderprogramme werden geladen...</p>',M(n,"class","flex flex-col items-center justify-center py-12 text-center")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}function In(e){let t,n;return{c(){t=b("div"),n=k(e[0]),M(t,"class","inline-block bg-blue-50 px-3 py-1 rounded-full text-sm text-blue-800")},m(e,r){x(e,t,r),m(t,n)},p(e,t){1&t&&C(n,e[0])},d(e){e&&y(t)}}}function Kn(e,t){let n,r,l;return r=new Tn({props:{program:t[5]}}),{key:e,first:null,c(){n=D(),de(r.$$.fragment),this.first=n},m(e,t){x(e,n,t),ge(r,e,t),l=!0},p(e,n){t=e;const l={};8&n&&(l.program=t[5]),r.$set(l)},i(e){l||(oe(r.$$.fragment,e),l=!0)},o(e){ae(r.$$.fragment,e),l=!1},d(e){e&&y(n),fe(r,e)}}}function Wn(e){let t;return{c(){t=b("p"),t.innerHTML="Momentan sind keine relevanten FÃ¶rderprogramme verfÃ¼gbar.<br/>Schau bald wieder vorbei.",M(t,"class","text-gray-600")},m(e,n){x(e,t,n)},d(e){e&&y(t)}}}function Un(e){let t;return{c(){t=b("p"),t.innerHTML="Keine FÃ¶rderprogramme passen zu deinen Filtern.<br/>Probiere andere Filter aus.",M(t,"class","text-gray-600")},m(e,n){x(e,t,n)},d(e){e&&y(t)}}}function Yn(e){let t,n,r,l;const o=[Pn,Rn,Hn,Nn],a=[];function i(e,t){return e[1]?0:e[2]?1:0===e[3].length?2:3}return n=i(e),r=a[n]=o[n](e),{c(){t=b("div"),r.c()},m(e,r){x(e,t,r),a[n].m(t,null),l=!0},p(e,[l]){let s=n;n=i(e),n===s?a[n].p(e,l):(re(),ae(a[s],1,1,(()=>{a[s]=null})),le(),r=a[n],r?r.p(e,l):(r=a[n]=o[n](e),r.c()),oe(r,1),r.m(t,null))},i(e){l||(oe(r),l=!0)},o(e){ae(r),l=!1},d(e){e&&y(t),a[n].d()}}}function Jn(e,t,n){let r,l,o,a;s(e,xn,(e=>n(4,r=e))),s(e,yn,(e=>n(1,l=e))),s(e,vn,(e=>n(2,o=e))),s(e,bn,(e=>n(3,a=e)));let i="";return e.$$.update=()=>{if(16&e.$$.dirty){const e=[];r.bundesland&&e.push(`Region "${l=r.bundesland,{bundesweit:"Bundesweit",eu_weit:"EU-weit",international:"International",bw:"Baden-WÃ¼rttemberg",by:"Bayern",be:"Berlin",bb:"Brandenburg",hb:"Bremen",hh:"Hamburg",he:"Hessen",mv:"Mecklenburg-Vorpommern",ni:"Niedersachsen",nw:"Nordrhein-Westfalen",rp:"Rheinland-Pfalz",sl:"Saarland",sn:"Sachsen",st:"Sachsen-Anhalt",sh:"Schleswig-Holstein",th:"ThÃ¼ringen"}[l]||l}"`),r.fundingType&&e.push(`FÃ¶rderart "${t=r.fundingType,{zuschuss:"Zuschuss",kredit:"Kredit",buergschaft:"BÃ¼rgschaft",preis:"Preis",sonstige:"Sonstige"}[t]||t}"`),r.providerType&&e.push(`FÃ¶rdergeber "${function(e){return{bund:"Bund",land:"Land",eu:"EU",stiftung:"Stiftung",sonstige:"Sonstige"}[e]||e}(r.providerType)}"`),r.tags&&r.tags.length>0&&e.push(`${r.tags.length} Tag${r.tags.length>1?"s":""}`),e.length>0?n(0,i=`Gefiltert nach ${e.join(", ")}`):n(0,i="")}var t,l},[i,l,o,a,r]}class Zn extends he{constructor(e){super(),me(this,e,Jn,Yn,a,{})}}function qn(e,t,n){const r=e.slice();return r[41]=t[n],r}function Gn(e,t,n){const r=e.slice();return r[44]=t[n],r}function Qn(e,t,n){const r=e.slice();return r[44]=t[n],r}function Xn(e,t,n){const r=e.slice();return r[44]=t[n],r}function er(e,t,n){const r=e.slice();return r[44]=t[n],r}function tr(e,t,n){const r=e.slice();return r[53]=t[n][0],r[54]=t[n][1],r}function nr(e,t,n){const r=e.slice();return r[57]=t[n],r}function rr(e,t,n){const r=e.slice();return r[60]=t[n],r}function lr(e){let t,n,r,l,o=e[0],a=[];for(let t=0;t<o.length;t+=1)a[t]=or(rr(e,o,t));return{c(){t=b("div"),n=b("h3"),n.textContent="Kategorien",r=_(),l=b("div");for(let e=0;e<a.length;e+=1)a[e].c();M(n,"class","tag-group-title font-semibold text-base mb-3"),M(l,"class","flex flex-wrap gap-1"),M(t,"class","tag-group mb-6 pb-4 border-b border-gray-200")},m(e,o){x(e,t,o),m(t,n),m(t,r),m(t,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(l,null)},p(e,t){if(131075&t[0]){let n;for(o=e[0],n=0;n<o.length;n+=1){const r=rr(e,o,n);a[n]?a[n].p(r,t):(a[n]=or(r),a[n].c(),a[n].m(l,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=o.length}},d(e){e&&y(t),v(a,e)}}}function or(e){let t,n,r,l,o,a,i=e[60]+"";function s(){return e[25](e[60])}return{c(){t=b("button"),n=k(i),r=_(),M(t,"class",l="super-kategorie-tag "+(e[1].includes(e[60])?"selected":""))},m(e,l){x(e,t,l),m(t,n),m(t,r),o||(a=S(t,"click",s),o=!0)},p(r,o){e=r,1&o[0]&&i!==(i=e[60]+"")&&C(n,i),3&o[0]&&l!==(l="super-kategorie-tag "+(e[1].includes(e[60])?"selected":""))&&M(t,"class",l)},d(e){e&&y(t),o=!1,a()}}}function ar(e){let t,n,r,l,o,a,i,s=(e[15][e[53]]||e[53])+"",c=e[54],u=[];for(let t=0;t<c.length;t+=1)u[t]=ir(nr(e,c,t));const d=e=>ae(u[e],1,1,(()=>{u[e]=null}));return{c(){t=b("div"),n=b("h3"),r=k(s),l=_(),o=b("div");for(let e=0;e<u.length;e+=1)u[e].c();a=_(),M(n,"class","tag-group-title"),M(o,"class","flex flex-wrap gap-1"),M(t,"class","tag-group mb-4")},m(e,s){x(e,t,s),m(t,n),m(n,r),m(t,l),m(t,o);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(o,null);m(t,a),i=!0},p(e,t){if((!i||512&t[0])&&s!==(s=(e[15][e[53]]||e[53])+"")&&C(r,s),66306&t[0]){let n;for(c=e[54],n=0;n<c.length;n+=1){const r=nr(e,c,n);u[n]?(u[n].p(r,t),oe(u[n],1)):(u[n]=ir(r),u[n].c(),oe(u[n],1),u[n].m(o,null))}for(re(),n=c.length;n<u.length;n+=1)d(n);le()}},i(e){if(!i){for(let e=0;e<c.length;e+=1)oe(u[e]);i=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)ae(u[e]);i=!1},d(e){e&&y(t),v(u,e)}}}function ir(e){let t,n;function r(){return e[26](e[57])}return t=new Pe({props:{tag:e[57],groupId:e[53],selectable:!0,selected:e[1].includes(e[57]),count:e[8][e[57]],onClick:r}}),{c(){de(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},p(n,l){e=n;const o={};512&l[0]&&(o.tag=e[57]),512&l[0]&&(o.groupId=e[53]),514&l[0]&&(o.selected=e[1].includes(e[57])),768&l[0]&&(o.count=e[8][e[57]]),512&l[0]&&(o.onClick=r),t.$set(o)},i(e){n||(oe(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function sr(e){let t,n,r=e[54].length>0&&ar(e);return{c(){r&&r.c(),t=D()},m(e,l){r&&r.m(e,l),x(e,t,l),n=!0},p(e,n){e[54].length>0?r?(r.p(e,n),512&n[0]&&oe(r,1)):(r=ar(e),r.c(),oe(r,1),r.m(t.parentNode,t)):r&&(re(),ae(r,1,1,(()=>{r=null})),le())},i(e){n||(oe(r),n=!0)},o(e){ae(r),n=!1},d(e){r&&r.d(e),e&&y(t)}}}function cr(t){let n,r,l=t[44].label+"";return{c(){n=b("option"),r=k(l),n.__value=t[44].value,n.value=n.__value},m(e,t){x(e,n,t),m(n,r)},p:e,d(e){e&&y(n)}}}function ur(t){let n,r,l=t[44].label+"";return{c(){n=b("option"),r=k(l),n.__value=t[44].value,n.value=n.__value},m(e,t){x(e,n,t),m(n,r)},p:e,d(e){e&&y(n)}}}function dr(e){let t,n,r,l=e[44].label+"";return{c(){t=b("option"),n=k(l),t.__value=r=e[44].value,t.value=t.__value},m(e,r){x(e,t,r),m(t,n)},p(e,o){1024&o[0]&&l!==(l=e[44].label+"")&&C(n,l),1024&o[0]&&r!==(r=e[44].value)&&(t.__value=r,t.value=t.__value)},d(e){e&&y(t)}}}function gr(e){let t,n,r,l=e[44].label+"";return{c(){t=b("option"),n=k(l),t.__value=r=e[44].value,t.value=t.__value},m(e,r){x(e,t,r),m(t,n)},p(e,o){2048&o[0]&&l!==(l=e[44].label+"")&&C(n,l),2048&o[0]&&r!==(r=e[44].value)&&(t.__value=r,t.value=t.__value)},d(e){e&&y(t)}}}function fr(e){let t,n,r,l,o,a,i=e[41].label+"";function s(){return e[31](e[41])}return{c(){t=b("button"),n=k(i),r=_(),M(t,"class",l="tag "+(e[3]===e[41].value?"selected":"")+" selectable")},m(e,l){x(e,t,l),m(t,n),m(t,r),o||(a=S(t,"click",s),o=!0)},p(n,r){e=n,8&r[0]&&l!==(l="tag "+(e[3]===e[41].value?"selected":"")+" selectable")&&M(t,"class",l)},d(e){e&&y(t),o=!1,a()}}}function pr(e){let t,n,r,o,a,i,s,c,u,d,g,f,p,h,w,$,D,E,C,F,j,A,B,L,O,T,V,N,H,R,P,I,K,W,U=e[0].length>0&&lr(e),Y=Object.entries(e[9]),Z=[];for(let t=0;t<Y.length;t+=1)Z[t]=sr(tr(e,Y,t));const q=e=>ae(Z[e],1,1,(()=>{Z[e]=null}));let G=e[13],Q=[];for(let t=0;t<G.length;t+=1)Q[t]=cr(er(e,G,t));let X=e[14],ee=[];for(let t=0;t<X.length;t+=1)ee[t]=ur(Xn(e,X,t));let te=e[10],ne=[];for(let t=0;t<te.length;t+=1)ne[t]=dr(Qn(e,te,t));let ie=e[11],se=[];for(let t=0;t<ie.length;t+=1)se[t]=gr(Gn(e,ie,t));let ce=e[12],ue=[];for(let t=0;t<ce.length;t+=1)ue[t]=fr(qn(e,ce,t));return{c(){U&&U.c(),t=_();for(let e=0;e<Z.length;e+=1)Z[e].c();n=_(),r=b("div"),o=b("h3"),o.textContent="Region",a=_(),i=b("select");for(let e=0;e<Q.length;e+=1)Q[e].c();s=_(),c=b("div"),u=b("h3"),u.textContent="FÃ¶rdersumme",d=_(),g=b("select");for(let e=0;e<ee.length;e+=1)ee[e].c();f=_(),p=b("div"),h=b("h3"),h.textContent="FÃ¶rdergeber",w=_(),$=b("select");for(let e=0;e<ne.length;e+=1)ne[e].c();D=_(),E=b("div"),C=b("h3"),C.textContent="Quelle",F=_(),j=b("select");for(let e=0;e<se.length;e+=1)se[e].c();A=_(),B=b("div"),L=b("h3"),L.textContent="Frist",O=_(),T=b("div");for(let e=0;e<ue.length;e+=1)ue[e].c();V=_(),N=b("div"),H=b("button"),R=k("ZurÃ¼cksetzen"),M(o,"class","tag-group-title"),M(i,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"),void 0===e[2]&&J((()=>e[27].call(i))),M(r,"class","tag-group mb-4"),M(u,"class","tag-group-title"),M(g,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"),void 0===e[4]&&J((()=>e[28].call(g))),M(c,"class","tag-group mb-4"),M(h,"class","tag-group-title"),M($,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"),void 0===e[5]&&J((()=>e[29].call($))),M(p,"class","tag-group mb-4"),M(C,"class","tag-group-title"),M(j,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"),void 0===e[6]&&J((()=>e[30].call(j))),M(E,"class","tag-group mb-4"),M(L,"class","tag-group-title"),M(T,"class","flex flex-wrap gap-1"),M(B,"class","tag-group mb-4"),M(H,"type","button"),M(H,"class","flex justify-center items-center px-4 py-2 border border-gray-300 text-sm rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"),H.disabled=P=0===e[1].length&&""===e[2]&&"all"===e[3]&&""===e[4]&&""===e[5]&&""===e[6],M(N,"class","flex gap-1 flex-wrap")},m(l,y){U&&U.m(l,y),x(l,t,y);for(let e=0;e<Z.length;e+=1)Z[e]&&Z[e].m(l,y);x(l,n,y),x(l,r,y),m(r,o),m(r,a),m(r,i);for(let e=0;e<Q.length;e+=1)Q[e]&&Q[e].m(i,null);z(i,e[2],!0),x(l,s,y),x(l,c,y),m(c,u),m(c,d),m(c,g);for(let e=0;e<ee.length;e+=1)ee[e]&&ee[e].m(g,null);z(g,e[4],!0),x(l,f,y),x(l,p,y),m(p,h),m(p,w),m(p,$);for(let e=0;e<ne.length;e+=1)ne[e]&&ne[e].m($,null);z($,e[5],!0),x(l,D,y),x(l,E,y),m(E,C),m(E,F),m(E,j);for(let e=0;e<se.length;e+=1)se[e]&&se[e].m(j,null);z(j,e[6],!0),x(l,A,y),x(l,B,y),m(B,L),m(B,O),m(B,T);for(let e=0;e<ue.length;e+=1)ue[e]&&ue[e].m(T,null);x(l,V,y),x(l,N,y),m(N,H),m(H,R),I=!0,K||(W=[S(i,"change",e[27]),S(i,"change",e[19]),S(g,"change",e[28]),S(g,"change",e[20]),S($,"change",e[29]),S($,"change",e[21]),S(j,"change",e[30]),S(j,"change",e[22]),S(H,"click",e[23])],K=!0)},p(e,r){if(e[0].length>0?U?U.p(e,r):(U=lr(e),U.c(),U.m(t.parentNode,t)):U&&(U.d(1),U=null),99074&r[0]){let t;for(Y=Object.entries(e[9]),t=0;t<Y.length;t+=1){const l=tr(e,Y,t);Z[t]?(Z[t].p(l,r),oe(Z[t],1)):(Z[t]=sr(l),Z[t].c(),oe(Z[t],1),Z[t].m(n.parentNode,n))}for(re(),t=Y.length;t<Z.length;t+=1)q(t);le()}if(8192&r[0]){let t;for(G=e[13],t=0;t<G.length;t+=1){const n=er(e,G,t);Q[t]?Q[t].p(n,r):(Q[t]=cr(n),Q[t].c(),Q[t].m(i,null))}for(;t<Q.length;t+=1)Q[t].d(1);Q.length=G.length}if(8196&r[0]&&z(i,e[2]),16384&r[0]){let t;for(X=e[14],t=0;t<X.length;t+=1){const n=Xn(e,X,t);ee[t]?ee[t].p(n,r):(ee[t]=ur(n),ee[t].c(),ee[t].m(g,null))}for(;t<ee.length;t+=1)ee[t].d(1);ee.length=X.length}if(16400&r[0]&&z(g,e[4]),1024&r[0]){let t;for(te=e[10],t=0;t<te.length;t+=1){const n=Qn(e,te,t);ne[t]?ne[t].p(n,r):(ne[t]=dr(n),ne[t].c(),ne[t].m($,null))}for(;t<ne.length;t+=1)ne[t].d(1);ne.length=te.length}if(1056&r[0]&&z($,e[5]),2048&r[0]){let t;for(ie=e[11],t=0;t<ie.length;t+=1){const n=Gn(e,ie,t);se[t]?se[t].p(n,r):(se[t]=gr(n),se[t].c(),se[t].m(j,null))}for(;t<se.length;t+=1)se[t].d(1);se.length=ie.length}if(2112&r[0]&&z(j,e[6]),266248&r[0]){let t;for(ce=e[12],t=0;t<ce.length;t+=1){const n=qn(e,ce,t);ue[t]?ue[t].p(n,r):(ue[t]=fr(n),ue[t].c(),ue[t].m(T,null))}for(;t<ue.length;t+=1)ue[t].d(1);ue.length=ce.length}(!I||27774&r[0]&&P!==(P=0===e[1].length&&""===e[2]&&"all"===e[3]&&""===e[4]&&""===e[5]&&""===e[6]))&&(H.disabled=P)},i(e){if(!I){for(let e=0;e<Y.length;e+=1)oe(Z[e]);I=!0}},o(e){Z=Z.filter(Boolean);for(let e=0;e<Z.length;e+=1)ae(Z[e]);I=!1},d(e){U&&U.d(e),e&&y(t),v(Z,e),e&&y(n),e&&y(r),v(Q,e),e&&y(s),e&&y(c),v(ee,e),e&&y(f),e&&y(p),v(ne,e),e&&y(D),e&&y(E),v(se,e),e&&y(A),e&&y(B),v(ue,e),e&&y(V),e&&y(N),K=!1,l(W)}}}function mr(e){let t,n,r;return n=new Lt({props:{title:"Filter",defaultOpen:!1,mobileOnly:!0,id:"filter",$$slots:{default:[pr]},$$scope:{ctx:e}}}),n.$on("toggle",e[32]),{c(){t=b("div"),de(n.$$.fragment),M(t,"class","bg-white rounded-lg shadow mb-6")},m(e,l){x(e,t,l),ge(n,t,null),r=!0},p(e,t){const r={};3967&t[0]|2&t[2]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(oe(n.$$.fragment,e),r=!0)},o(e){ae(n.$$.fragment,e),r=!1},d(e){e&&y(t),fe(n)}}}function hr(e){const t={};return e.forEach((e=>{if(e.tag_groups){const n="string"==typeof e.tag_groups?JSON.parse(e.tag_groups):e.tag_groups;Object.values(n).forEach((e=>{Array.isArray(e)&&e.forEach((e=>{t[e]=(t[e]||0)+1}))}))}})),t}function wr(e){const t=new Set;return e.forEach((e=>{if(e.tag_groups){const n="string"==typeof e.tag_groups?JSON.parse(e.tag_groups):e.tag_groups;n.super_kategorie&&Array.isArray(n.super_kategorie)&&n.super_kategorie.forEach((e=>t.add(e)))}})),Array.from(t).sort()}function xr(e,t,n){let r,l;s(e,bn,(e=>n(24,r=e))),s(e,wn,(e=>n(36,l=e)));let o=[],a="",i="all",c="",u="",d="",g=!1,f={},p={thema:[],foerderart:[],zielgruppe:[]},m=[],h=[],w=[];R((()=>{n(0,m=wr(l)),n(8,f=hr(l)),n(9,p=b(l,m))}));const x=[{value:"",label:"Alle Regionen"},{value:"bundesweit",label:"Bundesweit"},{value:"eu_weit",label:"EU-weit"},{value:"international",label:"International"},{value:"Baden-WÃ¼rttemberg",label:"Baden-WÃ¼rttemberg"},{value:"Bayern",label:"Bayern"},{value:"Berlin",label:"Berlin"},{value:"Brandenburg",label:"Brandenburg"},{value:"Bremen",label:"Bremen"},{value:"Hamburg",label:"Hamburg"},{value:"Hessen",label:"Hessen"},{value:"Mecklenburg-Vorpommern",label:"Mecklenburg-Vorpommern"},{value:"Niedersachsen",label:"Niedersachsen"},{value:"Nordrhein-Westfalen",label:"Nordrhein-Westfalen"},{value:"Rheinland-Pfalz",label:"Rheinland-Pfalz"},{value:"Saarland",label:"Saarland"},{value:"Sachsen",label:"Sachsen"},{value:"Sachsen-Anhalt",label:"Sachsen-Anhalt"},{value:"Schleswig-Holstein",label:"Schleswig-Holstein"},{value:"ThÃ¼ringen",label:"ThÃ¼ringen"}],y=[{value:"",label:"Alle BetrÃ¤ge"},{value:"small",label:"Bis 10.000 â¬"},{value:"medium",label:"10.000 - 50.000 â¬"},{value:"large",label:"50.000 - 100.000 â¬"},{value:"xlarge",label:"Ãber 100.000 â¬"}];xn.subscribe((e=>{n(1,o=e.tags?[...e.tags]:[]),n(2,a=e.bundesland||""),e.fundingType,e.providerType,n(3,i=e.deadlineHorizon||"all"),n(4,c=e.fundingAmountRange||""),n(5,u=e.foerdergeber||""),n(6,d=e.source||"")}));let v=1;function b(e,t){const n={thema:new Set,foerderart:new Set,zielgruppe:new Set},r=new Set(t||[]);return e.forEach((e=>{if(e.tag_groups){const t="string"==typeof e.tag_groups?JSON.parse(e.tag_groups):e.tag_groups;Object.entries(t).forEach((([e,t])=>{n[e]&&Array.isArray(t)&&t.forEach((t=>{f[t]>=v&&!r.has(t)&&n[e].add(t)}))}))}})),Object.keys(n).forEach((e=>{n[e]=Array.from(n[e]).sort()})),n}function $(e){o.includes(e)?n(1,o=o.filter((t=>t!==e))):n(1,o=[...o,e]),D()}function k(e){o.includes(e)?n(1,o=o.filter((t=>t!==e))):n(1,o=[...o,e]),D()}function _(e){n(3,i=e),D()}function D(){var e;e={tags:o,bundesland:a,deadlineHorizon:i,fundingAmountRange:c,foerdergeber:u,source:d},xn.update((t=>({...t,...e})))}return e.$$.update=()=>{var t;16777216&e.$$.dirty[0]&&r&&r.length>0&&n(0,m=wr(r)),16777217&e.$$.dirty[0]&&r&&r.length>0&&(t=r.length,v=t>=100?5:t>=50?3:t>=20?2:1,n(8,f=hr(r)),n(9,p=b(r,m)),n(10,h=function(e){const t=new Set;e.forEach((e=>{if(e.tag_groups){const n="string"==typeof e.tag_groups?JSON.parse(e.tag_groups):e.tag_groups;n.foerdergeber&&Array.isArray(n.foerdergeber)&&n.foerdergeber.forEach((e=>t.add(e)))}}));const n=[{value:"",label:"Alle FÃ¶rdergeber"}];return Array.from(t).sort().forEach((e=>{n.push({value:e,label:e})})),n}(r)),n(11,w=function(e){const t=new Set;e.forEach((e=>{e.source&&t.add(e.source)}));const n=[{value:"",label:"Alle Quellen"}];return Array.from(t).sort().forEach((e=>{n.push({value:e,label:e})})),n}(r)))},[m,o,a,i,c,u,d,g,f,p,h,w,[{value:"all",label:"Alle Fristen"},{value:"thisMonth",label:"Diesen Monat"},{value:"next3Months",label:"NÃ¤chste 3 Monate"},{value:"next6Months",label:"NÃ¤chste 6 Monate"},{value:"ongoing",label:"Laufende Programme"}],x,y,{thema:"Thema",foerderart:"FÃ¶rderart",zielgruppe:"Zielgruppe"},$,k,_,function(e){n(2,a=e.target.value),D()},function(e){n(4,c=e.target.value),D()},function(e){n(5,u=e.target.value),D()},function(e){n(6,d=e.target.value),D()},function(){n(1,o=[]),n(2,a=""),n(3,i="all"),n(4,c=""),n(5,u=""),n(6,d=""),xn.set({tags:[],bundesland:"",fundingType:"",providerType:"",deadlineHorizon:"all",fundingAmountRange:"",foerdergeber:"",source:""})},r,e=>k(e),e=>$(e),function(){a=j(this),n(2,a),n(13,x)},function(){c=j(this),n(4,c),n(14,y)},function(){u=j(this),n(5,u),n(10,h),n(24,r),n(0,m)},function(){d=j(this),n(6,d),n(11,w),n(24,r),n(0,m)},e=>_(e.value),({detail:e})=>n(7,g=e.isOpen)]}class yr extends he{constructor(e){super(),me(this,e,xr,mr,a,{},null,[-1,-1,-1])}}function vr(t){let n,r,l,o,a,i,s,c,u,d;return o=new yr({props:{defaultOpen:!0}}),i=new nn({props:{defaultOpen:!1}}),u=new Zn({}),{c(){n=b("main"),r=b("div"),l=b("aside"),de(o.$$.fragment),a=_(),de(i.$$.fragment),s=_(),c=b("div"),de(u.$$.fragment),M(l,"class","lg:col-span-1 space-y-6"),M(c,"class","lg:col-span-3"),M(r,"class","grid grid-cols-1 lg:grid-cols-4 gap-8"),M(n,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(e,t){x(e,n,t),m(n,r),m(r,l),ge(o,l,null),m(l,a),ge(i,l,null),m(r,s),m(r,c),ge(u,c,null),d=!0},p:e,i(e){d||(oe(o.$$.fragment,e),oe(i.$$.fragment,e),oe(u.$$.fragment,e),d=!0)},o(e){ae(o.$$.fragment,e),ae(i.$$.fragment,e),ae(u.$$.fragment,e),d=!1},d(e){e&&y(n),fe(o),fe(i),fe(u)}}}function br(e){return R((()=>{!async function(){await $n()}(),window.innerWidth>=768?Ft.set("filter"):Ft.set(null)})),[]}class $r extends he{constructor(e){super(),me(this,e,br,vr,a,{})}}function kr(e){let t,n;return t=new $r({}),{c(){de(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},i(e){n||(oe(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function _r(e){let t,n;return t=new hn({}),{c(){de(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},i(e){n||(oe(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function Dr(e){let t,n;return t=new sn({}),{c(){de(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},i(e){n||(oe(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function Sr(e){let t,n;return t=new on({}),{c(){de(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},i(e){n||(oe(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function Er(e){let t,n,r,l,o,a,i,s,c,u,d,g,f;l=new ye({props:{navigateTo:e[1],currentRoute:e[0]}});const p=[Sr,Dr,_r,kr],h=[];function w(e,t){return"home"===e[0]?0:"about"===e[0]?1:"linkedin-generator"===e[0]?2:"foerderprogramme"===e[0]?3:-1}return~(i=w(e))&&(s=h[i]=p[i](e)),{c(){t=b("link"),n=b("link"),r=_(),de(l.$$.fragment),o=_(),a=b("div"),s&&s.c(),c=_(),u=b("footer"),d=b("div"),g=b("p"),g.textContent=`Â© ${(new Date).getFullYear()} Veranstaltungskalender fÃ¼r Non-Profit Digitalisierung`,M(t,"rel","stylesheet"),M(t,"href","global.css"),M(n,"rel","stylesheet"),M(n,"href","custom.css"),M(a,"class","min-h-[calc(100vh-120px)]"),M(g,"class","text-center text-gray-300 text-sm"),M(d,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"),M(u,"class","bg-gray-800 text-white py-6 mt-8")},m(e,s){m(document.head,t),m(document.head,n),x(e,r,s),ge(l,e,s),x(e,o,s),x(e,a,s),~i&&h[i].m(a,null),x(e,c,s),x(e,u,s),m(u,d),m(d,g),f=!0},p(e,[t]){const n={};1&t&&(n.currentRoute=e[0]),l.$set(n);let r=i;i=w(e),i!==r&&(s&&(re(),ae(h[r],1,1,(()=>{h[r]=null})),le()),~i?(s=h[i],s||(s=h[i]=p[i](e),s.c()),oe(s,1),s.m(a,null)):s=null)},i(e){f||(oe(l.$$.fragment,e),oe(s),f=!0)},o(e){ae(l.$$.fragment,e),ae(s),f=!1},d(e){y(t),y(n),e&&y(r),fe(l,e),e&&y(o),e&&y(a),~i&&h[i].d(),e&&y(c),e&&y(u)}}}function Mr(e,t,n){let r="home";function l(){const e=window.location.pathname;n(0,r="/about"===e?"about":"/linkedin-generator"===e?"linkedin-generator":"/foerderprogramme"===e?"foerderprogramme":"home")}return R((()=>(l(),Ue(window.location.pathname),window.addEventListener("popstate",(()=>{l(),Ue(window.location.pathname)})),()=>{window.removeEventListener("popstate",l)}))),[r,function(e,t){t&&t.preventDefault(),window.history.pushState({},"",e),l(),Ue(e)}]}return new class extends he{constructor(e){super(),me(this,e,Mr,Er,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
